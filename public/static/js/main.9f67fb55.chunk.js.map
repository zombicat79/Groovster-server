{"version":3,"sources":["context/mode-context.js","services/auth-service.js","context/auth-context.js","pages/Home/Home.js","images/default-avatar.png","pages/Signup/Signup.js","pages/Login/Login.js","services/user-service.js","images/default-avatar-dark.png","pages/Settings/Settings.js","services/spotify-service.js","services/event-service.js","images/go-back-light.png","images/go-back-dark.png","pages/Artist/Artist.js","images/groovster-logo.png","pages/CreateEvent/CreateEvent.js","pages/Profile/Profile.js","images/logo-ironhack-blue.png","images/david-light.png","images/david-dark.jpeg","images/clement-light.png","images/clement-dark.png","pages/About/About.js","components/Navbar/Navbar.js","images/hamburger-icon.png","components/AnonRoute/AnonRoute.js","components/PrivateRoute/PrivateRoute.js","images/favorite-yes.png","images/notFavorite.png","components/Main/Main.js","components/musicPage/musicPage.js","components/albumPage/albumPage.js","components/Chat/ChatRoom.js","components/Chat/Chat.js","components/ProfilePage/ProfilePage.js","components/EventPage/EventPage.js","App.js","index.js"],"names":["React","createContext","Consumer","Provider","ModeProvider","state","modeIsDark","toggleMode","setState","this","value","props","children","Component","withMode","WrappedComponent","authService","retrieveUser","id","auth","get","then","response","axios","create","baseURL","process","withCredentials","username","password","email","image","post","data","AuthProvider","isLoggedIn","isLoading","user","signup","catch","err","login","logout","console","log","me","withAuth","mode","handleMode","className","to","avatar","handleFormSubmit","event","preventDefault","handleChange","target","name","onSubmit","type","onChange","userService","getByUsername","api","getUser","modifyUserChat","changes","put","modifyUserSettings","modifyUser","deleteUser","delete","preferences","unfoldedButtons","handleImageUpload","file","files","uploadData","FormData","append","imageUrl","handleUnfolding","deleteAccount","_id","history","push","componentDidMount","user_id","encType","placeholder","src","avatarLight","avatarDark","alt","onClick","spotifyService","searchArtist","search","getArtist","body","getArtists","userPref","getRandomArtists","getRelatedArtists","getAlbum","getTopTracks","getAlbumTracks","items","getOneAlbum","eventService","createEvent","artistId","userId","title","description","date","participants","location","picture","creator","getEvent","getEventById","eventId","updateEvent","popularity","followers","genres","events","seeEventsIsOn","retrieveArtist","match","params","images","url","total","retrieveEvents","toggleSeeEvents","updateChatModel","backLight","backDark","goBack","map","el","index","charAt","toUpperCase","slice","height","width","oneEvent","i","eventTitle","eventDescription","eventDate","eventImage","defaultImage","participantSearch","searchResults","eventParticipants","eventLocation","addEventParticipant","updatedEventParticipants","oneResult","length","prefs","artists","onePref","href","clementLight","clementDark","davidLight","davidDark","ironhack","menuIsOn","showWelcome","toggleMenu","logo","routeProps","ComponentToShow","component","exact","path","render","require","config","toggle","searchingValue","relatedArr","oneArt","randomArtists","SeveralArr","list","array","submitForm","innitArrays","updatePref","getRandom","getRelatedOfOne","allArtists","getSeveralArtists","result","getOneArtist","artist","addToFav","$push","removeFromFav","$pull","autoComplete","favoriteNo","favorite","albums","songs","retrieveAlbum","retrieveTracks","tracks","preview_url","controls","socket","chatId","album","retrieveTracksFromAlbum","retrieveAlbumInfo","release_date","label","useState","users","setUsers","message","setMessage","messages","setMessages","isReady","setIsReady","dummy","useRef","chat","useEffect","io","transports","forceNew","on","emit","filter","disconnect","text","moment","format","ref","current","scrollIntoView","behavior","disabled","e","currentTarget","ProfilePage","participantsArr","retrieveEvent","EventService","filterParticipantId","joinEvent","newArr","includes","Home","Signup","Login","Main","About","Settings","Profile","Artist","CreateEvent","musicPage","albumPage","Chat","EventPage","ReactDOM","document","getElementById"],"mappings":"qTAE+BA,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAEZC,E,4MACFC,MAAQ,CACJC,YAAY,G,EAGhBC,WAAa,WACT,EAAKC,SAAS,CAAEF,YAAa,EAAKD,MAAMC,c,4CAG5C,WAAU,IACEA,EAAeG,KAAKJ,MAApBC,WACAC,EAAeE,KAAfF,WAER,OACI,cAACJ,EAAD,CAAUO,MAAO,CAACH,aAAYD,cAA9B,SACKG,KAAKE,MAAMC,e,GAfDZ,IAAMa,WAqB3BC,EAAW,SAACC,GAEd,OAAO,SAAUJ,GACb,OACI,cAACT,EAAD,UACM,SAACQ,GAAW,IACFH,EAA2BG,EAA3BH,WAAYD,EAAeI,EAAfJ,WAEpB,OACI,cAACS,EAAD,aACAR,WAAYA,EACZD,WAAYA,GACRK,S,iBCYbK,EAFK,I,WA5ClB,aAAe,IAAD,gCAqCdC,aAAe,SAACC,GAGd,OAFW,EAAKC,KAAKC,IAAV,sBAA6BF,IACvCG,MAAK,SAACC,GAAD,OAAcA,MAtCpBb,KAAKU,KAAOI,IAAMC,OAAO,CACvBC,QAASC,kCACTC,iBAAiB,I,0CAIrB,SAAQC,EAAUC,EAAUC,EAAOC,GAMjC,OALWtB,KAAKU,KACba,KAAK,eAAgB,CAAEJ,WAAUC,WAAUC,QAAOC,UAClDV,MAAK,SAACC,GAAD,OAAcA,EAASW,U,mBAMjC,SAAML,EAAUC,GAKd,OAJWpB,KAAKU,KACba,KAAK,cAAe,CAAEJ,WAAUC,aAChCR,MAAK,SAACC,GAAD,OAAcA,EAASW,U,oBAKjC,WAGE,OAFWxB,KAAKU,KAAKC,IAAI,gBAAgBC,MAAK,SAACC,GAAD,OAAcA,EAASW,U,gBAKvE,WAGE,OAFWxB,KAAKU,KAAKC,IAAI,YAAYC,MAAK,SAACC,GAAD,OAAcA,EAASW,Y,QC/BtCjC,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZ+B,E,4MACJ7B,MAAQ,CACN8B,YAAY,EACZC,WAAW,EACXC,KAAM,M,EASRC,OAAS,SAACV,EAAUC,EAAUC,EAAOC,GACnCf,EAAYsB,OAAQV,EAAUC,EAAUC,EAAOC,GAC5CV,MAAK,SAACgB,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,YACjDE,OAAM,SAACC,GACN,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,W,EAI/CI,MAAQ,SAACb,EAAUC,GACjBb,EAAYyB,MAAOb,EAAUC,GAC1BR,MAAK,SAACgB,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,YACjDE,OAAM,SAACC,GACN,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,W,EAI/CK,OAAS,WACP1B,EAAY0B,SACTrB,MAAK,kBAAM,EAAKb,SAAS,CAAE2B,YAAY,EAAOE,KAAM,UACpDE,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,uDAzBhC,WAAsB,IAAD,OACnBxB,EAAY6B,KACVxB,MAAK,SAACgB,GAAD,OAAU,EAAK7B,SAAS,CAAE2B,YAAY,EAAME,KAAMA,EAAMD,WAAW,OACxEG,OAAM,SAACC,GAAD,OAAS,EAAKhC,SAAS,CAAE2B,YAAY,EAAOE,KAAM,KAAMD,WAAW,S,oBA0B7E,WAAU,IAAD,EACiC3B,KAAKJ,MAArC8B,EADD,EACCA,WAAYC,EADb,EACaA,UAAWC,EADxB,EACwBA,KACvBC,EAA0B7B,KAA1B6B,OAAQG,EAAkBhC,KAAlBgC,MAAOC,EAAWjC,KAAXiC,OAEvB,OAAIN,EAAkB,wCAGpB,cAAC,EAAD,CAAU1B,MAAO,CAAEyB,aAAYC,YAAWC,OAAMC,SAAQG,QAAOC,UAA/D,SACGjC,KAAKE,MAAMC,e,GA5COZ,IAAMa,WAqD3BiC,EAAW,SAAC/B,GAEhB,OAAO,SAAUJ,GACb,OACE,cAAC,EAAD,UACI,SAACD,GAAW,IACJyB,EAAuDzB,EAAvDyB,WAAYC,EAA2C1B,EAA3C0B,UAAWC,EAAgC3B,EAAhC2B,KAAMC,EAA0B5B,EAA1B4B,OAAQG,EAAkB/B,EAAlB+B,MAAOC,EAAWhC,EAAXgC,OAEpD,OACE,cAAC3B,EAAD,aACEoB,WAAYA,EACZC,UAAWA,EACXC,KAAMA,EACNC,OAAQA,EACRG,MAAOA,EACPC,OAAQA,GACJ/B,SCnCLmC,IAAShC,E,4MAlCtBT,MAAQ,CACN0C,KAAM,I,EAGRC,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAI1B,WACEtC,KAAKuC,e,oBAGP,WACE,OACE,uBAAM9B,GAAE,2BAAsBT,KAAKJ,MAAM0C,MAAQE,UAAWxC,KAAKJ,MAAM0C,KAAvE,UACE,gCACE,oBAAI7B,GAAE,qBAAgBT,KAAKJ,MAAM0C,MAAjC,uBACA,oBAAI7B,GAAE,gBAAWT,KAAKJ,MAAM0C,MAA5B,8CAEDtC,KAAKE,MAAMwB,WACT,cAAC,IAAD,CAAMe,GAAG,QAAT,SACD,wBAAQhC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAxC,uBAEA,Y,GA7BS/C,IAAMa,a,QCLV,MAA0B,2CCiE1BiC,IAAShC,E,4MAzDtBT,MAAQ,CACNuB,SAAU,GACVC,SAAU,GACVC,MAAO,GACPC,MAAOoB,EACPJ,KAAM,I,EAGRK,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEmB,EAAKjD,MAA1CuB,EAFkB,EAElBA,SAAUC,EAFQ,EAERA,SAAUC,EAFF,EAEEA,MAAOC,EAFT,EAESA,MACnC,EAAKpB,MAAM2B,OAAQV,EAAUC,EAAUC,EAAOC,I,EAGhDwB,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBC,EADc,EACdA,KAAM/C,EADQ,EACRA,MACd,EAAKF,SAAL,eAAiBiD,EAAO/C,K,EAG1BsC,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAI1B,WACEtC,KAAKuC,e,oBAGP,WAAU,IAAD,EAC8BvC,KAAKJ,MAAlCuB,EADD,EACCA,SAAUC,EADX,EACWA,SAAUC,EADrB,EACqBA,MAC5B,OACE,sBAAKZ,GAAE,oCAA+BT,KAAKJ,MAAM0C,MAAjD,UAEE,uBAAME,UAAS,qBAAgBxC,KAAKJ,MAAM0C,MAAQW,SAAUjD,KAAK2C,iBAAjE,UACE,6CACA,uBAAOO,KAAK,OAAOF,KAAK,WAAW/C,MAAOkB,EAAUgC,SAAUnD,KAAK8C,eAEnE,2CACA,uBAAOI,KAAK,OAAOF,KAAK,QAAQ/C,MAAOoB,EAAO8B,SAAUnD,KAAK8C,eAE7D,6CACA,uBAAOI,KAAK,WAAWF,KAAK,WAAW/C,MAAOmB,EAAU+B,SAAUnD,KAAK8C,eAEvE,uBAAOrC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQY,KAAK,SAASjD,MAAM,aAGrE,cAAC,IAAD,CAAMQ,GAAE,sBAAiBT,KAAKJ,MAAM0C,MAAQG,GAAI,SAAhD,SACE,kE,GApDWrC,eCiDNiC,IAAShC,E,4MAnDtBT,MAAQ,CACNuB,SAAU,GACVC,SAAU,GACVkB,KAAM,I,EAGRK,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEK,EAAKjD,MAA5BuB,EAFkB,EAElBA,SAAUC,EAFQ,EAERA,SAClB,EAAKlB,MAAM8B,MAAMb,EAAUC,I,EAG7B0B,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMG,OAAtBC,EADc,EACdA,KAAM/C,EADQ,EACRA,MACd,EAAKF,SAAL,eAAiBiD,EAAO/C,K,EAG1BsC,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAI1B,WACEtC,KAAKuC,e,oBAGP,WAAU,IAAD,EACwBvC,KAAKJ,MAA5BuB,EADD,EACCA,SAAUC,EADX,EACWA,SAElB,OACE,qBAAKX,GAAE,2BAAsBT,KAAKJ,MAAM0C,MAAQE,UAAWxC,KAAKJ,MAAM0C,KAAtE,SACC,uBAAME,UAAS,qBAAgBxC,KAAKJ,MAAM0C,MAAQW,SAAUjD,KAAK2C,iBAAjE,UAEG,6CACA,uBAAOO,KAAK,OAAOF,KAAK,WAAW/C,MAAOkB,EAAUgC,SAAUnD,KAAK8C,eAEnE,6CACA,uBAAOI,KAAK,WAAWF,KAAK,WAAW/C,MAAOmB,EAAU+B,SAAUnD,KAAK8C,eAEvE,uBAAOrC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQY,KAAK,SAASjD,MAAM,iB,GA5CzDG,eC+DLgD,EAFK,IA9DlB,aAAe,IAAD,gCASdC,cAAgB,SAACpD,GAKf,OAJW,EAAKqD,IACf3C,IADU,kBACKV,IACfW,MAAM,SAACC,GAAD,OAAcA,EAASW,SAZlB,KAiBd+B,QAAU,SAAC9C,GAKT,OAJW,EAAK6C,IACf3C,IADU,WACFF,IACRG,MAAM,SAACC,GAAD,OAAcA,EAASW,SApBlB,KAyBdgC,eAAiB,SAAC/C,EAAIgD,GAMpB,OALAvB,QAAQC,IAAIsB,GAED,EAAKH,IACfI,IADU,WACFjD,EADE,YACIgD,GAAWA,GACzB7C,MAAM,SAACC,GAAD,OAAcA,EAASW,SA9BlB,KAmCdmC,mBAAqB,SAAClD,EAAIgD,GAKxB,OAJAvB,QAAQC,IAAIsB,GACD,EAAKH,IACfI,IADU,oBACOjD,GAAMgD,GACvB7C,MAAM,SAACC,GAAD,OAAcA,EAASW,SAvClB,KA2CdoC,WAAa,SAACnD,EAAIgD,GAIhB,OAHW,EAAKH,IACbI,IADQ,WACAjD,GAAMgD,GACd7C,MAAM,SAACC,GAAD,OAAcA,EAASW,SA9CpB,KAkDdqC,WAAa,SAACpD,GAKZ,OAJW,EAAK6C,IACfQ,OADU,WACCrD,IACXG,MAAM,SAACC,GAAD,OAAcA,EAASW,SAlD9BxB,KAAKsD,IAAMxC,IAAMC,OAAO,CACtBC,QAAQ,GAAD,OAAKC,kCAAL,cACPC,iBAAiB,KCRR,MAA0B,gDC8J1BmB,G,MAAAA,EAAShC,E,4MA/IpBT,MAAQ,CACJuB,SAAU,GACVE,MAAO,GACPC,MAAO,GACPF,SAAU,GACV2C,YAAa,GACbzB,KAAM,GACN0B,gBAAiB,U,EAgBrBlB,aAAe,SAACF,GAAW,IAAD,EACEA,EAAMG,OAAtBC,EADc,EACdA,KAAM/C,EADQ,EACRA,MACd,EAAKF,SAAL,eAAiBiD,EAAO/C,K,EAG5BgE,kBAAoB,SAACrB,GACjB,IAAMsB,EAAOtB,EAAMG,OAAOoB,MAAM,GAE1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASJ,GAG3BpD,IAAMS,KAAN,UAAcN,kCAAd,oBAA+DmD,EAAY,CAAElD,iBAAiB,IAC7FN,MAAM,SAACC,GAAc,IACX0D,EAAY1D,EAASW,KAArB+C,SACP,EAAKxE,SAAS,CAAEuB,MAAOiD,OAE1BzC,OAAO,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAGjCyC,gBAAkB,WACqB,WAA/B,EAAK5E,MAAMoE,gBACX,EAAKjE,SAAS,CAAEiE,gBAAiB,aAGjC,EAAKjE,SAAS,CAAEiE,gBAAiB,Y,EAIzC/B,OAAS,WACL,EAAK/B,MAAM+B,U,EAGfwC,cAAgB,WACZ,IAAMhE,EAAK,EAAKP,MAAM0B,KAAK8C,IAE3BtB,EAAYS,WAAWpD,GACtBG,MAAM,WACH,EAAKV,MAAM+B,a,EAInBnC,WAAa,WACT,EAAKI,MAAMJ,aACX,EAAKI,MAAMyE,QAAQC,KAAK,M,EAG5BrC,WAAa,YACqB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,EAI5BuC,kBAAoB,WAChB,IAAMpE,EAAK,EAAKP,MAAM0B,KAAK8C,IAC3B,EAAKnC,aAELa,EAAYG,QAAQ9C,GACnBG,MAAK,SAACY,GACH,EAAKzB,SAAS,CAAEoB,SAAUK,EAAKL,SAAUE,MAAOG,EAAKH,MAAOC,MAAOE,EAAKF,MAAOyC,YAAavC,EAAKuC,kB,sDA3EzG,SAAkBnB,GAAQ,IAAD,OACrBA,EAAMC,iBAEN,IAAMpC,EAAKT,KAAKE,MAAM0B,KAAK8C,IAHN,EAIuB1E,KAAKJ,MAAzCuB,EAJa,EAIbA,SAAUE,EAJG,EAIHA,MAAOC,EAJJ,EAIIA,MAAOF,EAJX,EAIWA,SAEhCgC,EAAYO,mBAAmBlD,EAAI,CAACU,WAAUE,QAAOC,QAAOF,aAC3DR,MAAM,SAACY,GACR,EAAKzB,SAAS,CAAEoB,SAAU,EAAKvB,MAAMuB,SAAUE,MAAO,EAAKzB,MAAMyB,MAAOC,MAAO,EAAK1B,MAAM0B,MAAOF,SAAU,EAAKxB,MAAMwB,WACtH,EAAKlB,MAAMyE,QAAQC,KAAnB,mBAAoC,EAAK1E,MAAM4E,e,oBAsEnD,WAAU,IAAD,OACL,OACI,uBAAMrE,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQE,UAAS,eAAUxC,KAAKJ,MAAM0C,MAA5E,UACI,uBAAM7B,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQE,UAAS,qBAAgBxC,KAAKJ,MAAM0C,MAAQU,KAAK,gBAAgB+B,QAAQ,sBACvH9B,SAAU,SAACL,GAAD,OAAW,EAAKD,iBAAiBC,IAD3C,UAEI,+CACA,uBAAOJ,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,OAAOF,KAAK,WAAWgC,YAAahF,KAAKE,MAAM0B,KAAKT,SAChHlB,MAAOD,KAAKJ,MAAMuB,SAAUgC,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,MAEnE,4CACA,uBAAOJ,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,QAAQF,KAAK,QAAQgC,YAAahF,KAAKE,MAAM0B,KAAKP,MAC9GpB,MAAOD,KAAKJ,MAAMyB,MAAO8B,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,MAEhE,8CACE5C,KAAKJ,MAAM0B,OACT,qBAAKb,GAAE,uBAAkBT,KAAKJ,MAAM0C,MAAQ2C,IAA0B,8CAArBjF,KAAKJ,MAAM0B,MAC9B,UAApBtB,KAAKJ,MAAM0C,KACP4C,EACAC,EACJnF,KAAKJ,MAAM0B,MAAO8D,IAAI,SAEpC,uBACI3E,GAAE,sBAAiBT,KAAKJ,MAAM0C,MAC9BY,KAAK,OACLF,KAAK,QACLG,SAAUnD,KAAKiE,oBAGnB,+CACA,uBAAOzB,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,WAAWF,KAAK,WAAWgC,YAAY,MACnG/E,MAAOD,KAAKJ,MAAMwB,SAAU+B,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,MAEnE,uBAAOnC,GAAE,gCAA2BT,KAAKJ,MAAM0C,MAAQY,KAAK,SAASjD,MAAM,cAG/E,8BACI,wBAAQQ,GAAE,6BAAwBT,KAAKJ,MAAMoE,gBAAnC,YAAsDhE,KAAKJ,MAAM0C,MAC3E+C,QAASrF,KAAKF,WADd,SAC+C,UAApBE,KAAKJ,MAAM0C,KAAmB,sBAAwB,2BAErF,sBAAKE,UAAU,mBAAf,UACI,wBAAQ/B,GAAE,wBAAmBT,KAAKJ,MAAMoE,gBAA9B,YAAiDhE,KAAKJ,MAAM0C,MAAQ+C,QAASrF,KAAKwE,gBAA5F,qBACA,mBAAG/D,GAAE,sBAAiBT,KAAKJ,MAAMoE,gBAA5B,YAA+ChE,KAAKJ,MAAM0C,MAA/D,uBACA,uBAAO7B,GAAE,+BAA0BT,KAAKJ,MAAMoE,gBAArC,YAAwDhE,KAAKJ,MAAM0C,MAAQY,KAAK,WAAWmC,QAASrF,KAAKiC,YAEtH,sBAAKO,UAAU,mBAAf,UACI,wBAAQ/B,GAAE,gCAA2BT,KAAKJ,MAAMoE,gBAAtC,YAAyDhE,KAAKJ,MAAM0C,MAAQ+C,QAASrF,KAAKwE,gBAApG,4BACA,mBAAG/D,GAAE,sBAAiBT,KAAKJ,MAAMoE,gBAA5B,YAA+ChE,KAAKJ,MAAM0C,MAA/D,uCACA,uBAAO7B,GAAE,+BAA0BT,KAAKJ,MAAMoE,gBAArC,YAAwDhE,KAAKJ,MAAM0C,MAAQY,KAAK,WAAWmC,QAASrF,KAAKyE,0B,GAzI/GrE,gBCgERkF,EAFQ,IAzErB,aAAe,IAAD,gCAOdC,aAAe,SAACC,GAId,OAHW,EAAKlC,IACb/B,KADQ,iBACe,CAAEiE,WACzB5E,MAAK,SAACC,GAAD,OAAcA,MAVV,KAcd4E,UAAY,SAAChF,GAKX,OAJW,EAAK6C,IACb3C,IADQ,0BACeF,IACvBG,MAAK,SAACC,GAAD,OAAcA,EAASW,KAAKkE,SAjBxB,KAsBdC,WAAa,SAACC,GAIZ,OAHW,EAAKtC,IACb/B,KAAK,4BAA6B,CAAEqE,aACpChF,MAAK,SAACC,GAAD,OAAcA,MAzBV,KA6BdgF,iBAAmB,WAIjB,OAHW,EAAKvC,IACb3C,IADQ,gCAERC,MAAK,SAACC,GAAD,OAAcA,MAhCV,KAoCdiF,kBAAoB,SAACF,GAInB,OAHW,EAAKtC,IACb/B,KAAK,+BAAgC,CAAEqE,aACvChF,MAAK,SAACC,GAAD,OAAcA,MAvCV,KA2CdkF,SAAW,SAACtF,GAIV,OAHW,EAAK6C,IACb3C,IADQ,gCACqBF,IAC7BG,MAAK,SAACC,GAAD,OAAcA,EAASW,KAAKkE,SA9CxB,KAkDdM,aAAe,SAACvF,GAId,OAHW,EAAK6C,IACb3C,IADQ,qCAC0BF,IAClCG,MAAK,SAACC,GAAD,OAAcA,EAASW,KAAKkE,SArDxB,KAyDdO,eAAiB,SAACxF,GAIhB,OAHW,EAAK6C,IACb3C,IADQ,sCAC2BF,IACnCG,MAAK,SAACC,GAAD,OAAcA,EAASW,KAAKkE,KAAKQ,UA5D7B,KAgEdC,YAAc,SAAC1F,GAIb,OAHW,EAAK6C,IACb3C,IADQ,oCACyBF,IACjCG,MAAK,SAACC,GAAD,OAAcA,EAASW,KAAKkE,SAlEpC1F,KAAKsD,IAAMxC,IAAMC,OAAO,CACtBC,QAAQ,GAAD,OAAKC,kCAAL,QACPC,iBAAiB,KCsDRkF,EAFM,IAvDnB,aAAe,IAAD,gCAOdC,YAAc,SAACC,EAAUC,EAAQ9C,GAAa,IAE1C+C,EAME/C,EANF+C,MACAC,EAKEhD,EALFgD,YACAC,EAIEjD,EAJFiD,KACAC,EAGElD,EAHFkD,aACAC,EAEEnD,EAFFmD,SACAC,EACEpD,EADFoD,QAaF,OAXW,EAAKvD,IACb/B,KADQ,UACA+E,EADA,WACmB,CAC1BQ,QAASP,EACTC,QACAC,cACAC,OACAC,eACAC,WACAC,YAEDjG,MAAK,SAACC,GAAD,OAAcA,EAASW,SA1BnB,KA+BduF,SAAW,SAACT,GAEV,OADW,EAAKhD,IAAI3C,IAAT,WAAiB2F,IAAY1F,MAAK,SAACC,GAAD,OAAcA,EAASW,SAhCxD,KAsCdwF,aAAe,SAACC,GAId,OAHW,EAAK3D,IACb3C,IADQ,qBACUsG,IAClBrG,MAAK,SAACC,GAAD,OAAcA,MAzCV,KA6CdqG,YAAc,SAACzG,EAAIgD,GAIjB,OAHW,EAAKH,IACbI,IADQ,kBACOjD,GAAMgD,GACrB7C,MAAK,SAACC,GAAD,OAAcA,MA/CtBb,KAAKsD,IAAMxC,IAAMC,OAAO,CACtBC,QAAQ,GAAD,OAAKC,kCAAL,eACPC,iBAAiB,KCNR,G,MAAA,0vDCAA,2hJCgJAmB,IAAShC,E,4MAjItBT,MAAQ,CACNoD,KAAM,GACN6D,QAAS,GACTM,WAAY,EACZC,UAAW,EACXC,OAAQ,GACRC,OAAQ,GACRC,eAAe,EACfjF,KAAM,I,EAGRkF,eAAiB,WAAO,IACd/G,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeG,UAAUhF,GAAIG,MAAK,SAACY,GACjC,EAAKzB,SAAS,CACZiD,KAAMxB,EAAKwB,KACX6D,QAASrF,EAAKmG,OAAO,GAAGC,IACxBT,WAAY3F,EAAK2F,WACjBC,UAAW5F,EAAK4F,UAAUS,MAC1BR,OAAQ7F,EAAK6F,a,EAKnBS,eAAiB,WAAO,IACdrH,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR2F,EAAaW,SAAStG,GAAIG,MAAK,SAACY,GAC9BU,QAAQC,IAAIX,GACZ,EAAKzB,SAAS,CAAEuH,OAAQ9F,Q,EAU5BuG,gBAAkB,WAChB,EAAKhI,SAAS,CAAEwH,eAAgB,EAAK3H,MAAM2H,iB,EAG7CS,gBAAkB,WAAO,IACfvH,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACF8F,EAAS,EAAKrG,MAAM0B,KAAK8C,IAC/BtB,EACGI,eAAe+C,EAAQ9F,GACvBG,MAAK,SAACY,GAAD,OAAUU,QAAQC,IAAI,cAC3BL,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAGhCQ,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAxB1B,WACEtC,KAAKuC,aACLvC,KAAK8H,iBACL9H,KAAKwH,mB,oBAyBP,WAAU,IAAD,OACC/G,EAAOT,KAAKE,MAAMuH,MAAMC,OAAxBjH,GAER,OACE,sBAAKA,GAAwB,SAApBT,KAAKJ,MAAM0C,KAAX,mBAAkD,KACvDE,UAA+B,UAApBxC,KAAKJ,MAAM0C,KAAX,+BAA+D,KAD9E,UAEE,qBAAK7B,GAAE,wBAAmBT,KAAKJ,MAAM0C,MACjC2C,IAAyB,UAApBjF,KAAKJ,MAAM0C,KAAmB2F,EAAYC,EAC/C7C,QAASrF,KAAKE,MAAMyE,QAAQwD,SAChC,oBAAI1H,GAAE,oBAAeT,KAAKJ,MAAM0C,MAAhC,SAAyCtC,KAAKJ,MAAMoD,OACpD,oBAAIvC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAApC,SACGtC,KAAKJ,MAAMyH,OAAOe,KAAI,SAACC,EAAIC,GAC1B,OACE,iCACG,IACAD,EAAGE,OAAO,GAAGC,cAAgBH,EAAGI,MAAM,GAFzC,OAAWH,QAQjB,8BACE,qBACE7H,GAAE,uBAAkBT,KAAKJ,MAAM0C,MAC/B2C,IAAKjF,KAAKJ,MAAMiH,QAChBzB,IAAG,UAAKpF,KAAKJ,MAAMoD,KAAhB,UACH0F,OAAO,MACPC,MAAM,UAIV,gCACE,oBAAGnG,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,yBAA8DtC,KAAKJ,MAAMuH,cACzE,oBAAG3E,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,wBAA6DtC,KAAKJ,MAAMwH,gBAG1E,cAAC,IAAD,CAAM3E,GAAE,uBAAkBhC,EAAlB,KAAR,SACE,8BACE,wBAAQ+B,UAAS,wBAAmBxC,KAAKJ,MAAM0C,MAAQ+C,QAASrF,KAAKgI,gBAArE,4BAIJ,cAAC,IAAD,CAAMvF,GAAE,kBAAahC,EAAb,UAAR,SACE,8BACE,wBAAQ+B,UAAS,wBAAmBxC,KAAKJ,MAAM0C,MAA/C,iCAIJ,gCACE,wBAAQE,UAAS,wBAAmBxC,KAAKJ,MAAM0C,MAAQ+C,QAASrF,KAAK+H,gBAArE,SACG/H,KAAKJ,MAAM2H,cAAgB,OAAS,mBAEtCvH,KAAKJ,MAAM2H,cACV,qBAAK9G,GAAE,sBAAiBT,KAAKJ,MAAM0C,MAAnC,SACGtC,KAAKJ,MAAM0H,OAAOc,KAAI,SAACQ,EAAUC,GAChC,OAAO,cAAC,IAAD,CAAMrG,UAAS,uBAAkB,EAAK5C,MAAM0C,MAAQG,GAAE,wBAAmBmG,EAASlE,KAAlF,SAA6GkE,EAASpC,OAAxBoC,EAASlE,UAGhH,QAGN,cAAC,IAAD,CAAMjC,GAAE,kBAAahC,EAAb,iBAAR,SACE,wBAAQ+B,UAAS,wBAAmBxC,KAAKJ,MAAM0C,MAA/C,gC,GA3HWlC,e,QCdN,G,OAAA,00DCgJAiC,IAAShC,E,4MAjIpBT,MAAQ,CACJkJ,WAAY,GACZC,iBAAkB,GAClBC,UAAW,GACXC,WAAYC,EACZC,kBAAmB,GACnBC,cAAe,GACfC,kBAAmB,GACnBC,cAAe,GACfhH,KAAM,I,EAGVQ,aAAe,SAACF,GAAW,IAAD,EACEA,EAAMG,OAAtBC,EADc,EACdA,KAAM/C,EADQ,EACRA,MAED,sBAAT+C,EACAI,EAAYC,cAAcpD,GACzBW,MAAM,SAACY,GACJ,EAAKzB,SAAS,CAAEoJ,kBAAmBlJ,EAAOmJ,cAAe5H,OAI7D,EAAKzB,SAAL,eAAiBiD,EAAO/C,K,EAIhC0C,iBAAmB,SAACC,GAChBA,EAAMC,iBACN,IAAMyD,EAAW,EAAKpG,MAAMuH,MAAMC,OAAOjH,GACnC8F,EAAS,EAAKrG,MAAM0B,KAAK8C,IAHL,EAIsE,EAAK9E,MAA9FkJ,EAJmB,EAInBA,WAAYE,EAJO,EAIPA,UAAWD,EAJJ,EAIIA,iBAAkBE,EAJtB,EAIsBA,WAAYI,EAJlC,EAIkCA,kBAAmBC,EAJrD,EAIqDA,cAE/ElD,EAAaC,YAAYC,EAAUC,EAAQ,CAACC,MAAOsC,EAAYrC,YAAasC,EAAkBrC,KAAMsC,EAAWnC,QAASoC,EAAYtC,aAAc0C,EAAmBzC,SAAU0C,IAC9K1I,MAAM,SAACY,GACJ,EAAKzB,SAAS,CAAC+I,WAAY,GAAIE,UAAW,GAAID,iBAAkB,GAAIE,WAAY,EAAKrJ,MAAMqJ,WAAYI,oBAAmBC,cAAc,QAE5I,EAAKpJ,MAAMyE,QAAQC,KAAnB,kBAAmC0B,K,EAIvCrC,kBAAoB,SAACrB,GACjB,IAAMsB,EAAOtB,EAAMG,OAAOoB,MAAM,GAE1BC,EAAa,IAAIC,SACvBD,EAAWE,OAAO,QAASJ,GAG3BpD,IAAMS,KAAN,UAAcN,kCAAd,oBAA+DmD,EAAY,CAAElD,iBAAiB,IAC7FN,MAAM,SAACC,GAAc,IACX0D,EAAY1D,EAASW,KAArB+C,SACP,EAAKxE,SAAS,CAAEkJ,WAAY1E,OAE/BzC,OAAO,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAGjCwH,oBAAsB,SAAC3G,GACnBA,EAAMC,iBADuB,IAErB5C,EAAU2C,EAAMG,OAAhB9C,MACFuJ,EAAwB,sBAAO,EAAK5J,MAAMyJ,mBAAlB,CAAqCpJ,IACnE,EAAKF,SAAS,CAACsJ,kBAAmBG,K,EAGtCjH,WAAa,YACqB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,EAI5BuC,kBAAoB,WAChB,EAAKtC,c,4CAGT,WAAU,IAAD,OACL,OACI,uBAAMC,UAAS,eAAUxC,KAAKJ,MAAM0C,MAApC,UACI,qBAAK7B,GAAE,wBAAmBT,KAAKJ,MAAM0C,MACrC2C,IAAyB,UAApBjF,KAAKJ,MAAM0C,KAAmB2F,EAAYC,EAC/C7C,QAASrF,KAAKE,MAAMyE,QAAQwD,SAC5B,uBAAM1H,GAAE,2BAAsBT,KAAKJ,MAAM0C,MAAzC,UACI,gCACI,2CACA,uBAAOE,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,OAAOF,KAAK,aACxE/C,MAAOD,KAAKJ,MAAMkJ,WAAY3F,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,SAGzE,gCACI,iDACA,uBAAOJ,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,WAAWF,KAAK,mBAC5E/C,MAAOD,KAAKJ,MAAMmJ,iBAAkB5F,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,SAG/E,gCACI,0CACA,uBAAOnC,GAAE,2BAAsBT,KAAKJ,MAAM0C,MAAQE,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,OAAOF,KAAK,YAAYgC,YAAY,aAC3I/E,MAAOD,KAAKJ,MAAMoJ,UAAW7F,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,SAExE,sBAAKnC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAArC,UACI,6CACA,qBAAK2C,IAAKjF,KAAKJ,MAAMqJ,aACrB,uBAAOxI,GAAE,yBAAoBT,KAAKJ,MAAM0C,MAAQY,KAAK,OAAOF,KAAK,QAAQG,SAAUnD,KAAKiE,uBAG5F,gCACA,8CACA,uBAAOzB,UAAS,yBAAoBxC,KAAKJ,MAAM0C,MAAQY,KAAK,OAAOF,KAAK,gBACxE/C,MAAOD,KAAKJ,MAAM0J,cAAenG,SAAU,SAACP,GAAD,OAAW,EAAKE,aAAaF,SAGxE,8BACK5C,KAAKJ,MAAMwJ,cAAchB,KAAI,SAACqB,EAAWZ,GACvC,OACC,gCACI,4BAAIY,EAAUtI,WACd,wBAAQkE,QAAS,SAACzC,GAAD,OAAW,EAAK2G,oBAAoB3G,IACrDI,KAAK,iBAAiB/C,MAAOwJ,EAAU/E,IADvC,mBAFM+E,EAAU/E,UAQ5B,wBAAQjE,GAAE,8BAAyBT,KAAKJ,MAAM0C,MAAQ+C,QAAS,SAACzC,GAAD,OAAW,EAAKD,iBAAiBC,IAAQM,KAAK,SAA7G,8B,GA3HM9C,eCoFXiC,G,OAAAA,EAAShC,E,4MApFpBT,MAAQ,CACJuB,SAAU,GACVE,MAAO,GACPC,MAAO,GACPyC,YAAa,GACbuD,OAAQ,GACRhF,KAAM,I,EAGVC,WAAa,YACqB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,EAI5BuC,kBAAoB,WAChB,EAAKtC,aACL,IAAM9B,EAAK,EAAKP,MAAM0B,KAAK8C,IAE3BtB,EAAYG,QAAQ9C,GACnBG,MAAK,SAACY,GAAU,IACLL,EAAgDK,EAAhDL,SAAUE,EAAsCG,EAAtCH,MAAOC,EAA+BE,EAA/BF,MAAOyC,EAAwBvC,EAAxBuC,YAAauD,EAAW9F,EAAX8F,OAEzCvD,EAAY2F,OAAS,EACrBpE,EAAeK,WAAW5B,GACzBnD,MAAM,SAAC+I,GACJ,EAAK5J,SAAS,CAAEoB,WAAUE,QAAOC,QAAOgG,SAAQvD,YAAa4F,EAAMnI,KAAKkE,KAAKkE,aAIjF,EAAK7J,SAAS,CAAEoB,WAAUE,QAAOC,QAAOyC,cAAauD,e,4CAKjE,WAAU,IAAD,OACJ,OACG,uBAAM7G,GAAE,uBAAkBT,KAAKJ,MAAM0C,MAAQE,UAAS,eAAUxC,KAAKJ,MAAM0C,MAA3E,UACI,sBAAK7B,GAAE,4BAAuBT,KAAKJ,MAAM0C,MAAzC,UACI,qBAAK7B,GAAE,wBAAmBT,KAAKJ,MAAM0C,MACrC2C,IAA0B,8CAArBjF,KAAKJ,MAAM0B,MACM,UAApBtB,KAAKJ,MAAM0C,KACP4C,EACAC,EACJnF,KAAKJ,MAAM0B,QACb,mBAAGkB,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,SAAkDtC,KAAKJ,MAAMuB,WAC7D,mBAAGqB,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,SAAkDtC,KAAKJ,MAAMyB,WAEjE,mBAAGZ,GAAE,6BAAwBT,KAAKJ,MAAM0C,MAAQE,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAtF,SAA8F,2DAC9F,qBAAK7B,GAAE,4BAAuBT,KAAKJ,MAAM0C,MAAzC,SACCtC,KAAKJ,MAAMmE,YAAYqE,KAAI,SAACyB,EAAShB,GAClC,OACA,8BACI,eAAC,IAAD,CAAMpG,GAAE,kBAAaoH,EAAQpJ,IAA7B,UACI,qBAAKA,GAAE,6BAAwB,EAAKb,MAAM0C,MAAQ2C,IAAK4E,EAAQlC,OAAO,GAAGC,MACzE,mBAAGpF,UAAS,uBAAkB,EAAK5C,MAAM0C,MAAzC,SAAkDuH,EAAQ7G,WAHxD6G,EAAQpJ,SAQtB,sBAAKA,GAAE,kCAA6BT,KAAKJ,MAAM0C,MAA/C,UACI,mBAAGE,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,SAAiD,sDACpDtC,KAAKJ,MAAM0H,OAAOc,KAAI,SAACQ,EAAUC,GAC9B,OACA,8BACI,eAAC,IAAD,CAAMpG,GAAE,wBAAmBmG,EAASlE,KAApC,UACI,mBAAGlC,UAAS,uBAAkB,EAAK5C,MAAM0C,MAAzC,SAAiD,iCAASsG,EAASpC,UACnE,mBAAGhE,UAAS,uBAAkB,EAAK5C,MAAM0C,MAAzC,SAAkDsG,EAASnC,kBAHzDmC,EAASlE,WASvB,cAAC,IAAD,CAAMjC,GAAG,YAAT,SACI,wBAAQhC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAxC,6B,GA9EElC,gBCbP,G,OAAA,IAA0B,gDCA1B,MAA0B,wCCA1B,MAA0B,wCCA1B,MAA0B,0CCA1B,MAA0B,yCCiE1BiC,IAAShC,E,4MAnDtBT,MAAQ,CACN0C,KAAM,I,EAGRC,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAI1B,WACEtC,KAAKuC,e,oBAGP,WACE,OACE,uBAAM9B,GAAE,qBAAgBT,KAAKJ,MAAM0C,MAAQE,UAAS,eAAUxC,KAAKJ,MAAM0C,MAAzE,UACE,sBAAKE,UAAS,sBAAiBxC,KAAKJ,MAAM0C,MAA1C,UACE,oBAAI7B,GAAE,mBAAcT,KAAKJ,MAAM0C,MAA/B,uBACA,oBAAIE,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAA1C,uIACA,qBAAI7B,GAAE,uBAAkBT,KAAKJ,MAAM0C,MAAnC,UACE,+DACA,iGACA,wEACA,gFAEF,mBAAGE,UAAS,uBAAkBxC,KAAKJ,MAAM0C,MAAzC,+FAEF,sBAAKE,UAAS,sBAAiBxC,KAAKJ,MAAM0C,MAAQ7B,GAAE,kCAA6BT,KAAKJ,MAAM0C,MAA5F,UACI,oBAAGwH,KAAK,8CAA8C/G,OAAO,QAA7D,UACI,mDACA,qBAAKtC,GAAE,0BAAqBT,KAAKJ,MAAM0C,MAAQ2C,IAAyB,UAApBjF,KAAKJ,MAAM0C,KAAmByH,EAAeC,EAAa5E,IAAI,mBAEtH,oBAAG0E,KAAK,qDAAqD/G,OAAO,QAApE,UACI,mDACA,qBAAKtC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQ2C,IAAyB,UAApBjF,KAAKJ,MAAM0C,KAAmB2H,EAAaC,EAAY9E,IAAI,oBAGrH,qBAAK5C,UAAS,sBAAiBxC,KAAKJ,MAAM0C,MAA1C,SACI,mBAAGwH,KAAK,8BAA8B/G,OAAO,QAA7C,SACI,qBAAKtC,GAAE,wBAAmBT,KAAKJ,MAAM0C,MAAQ2C,IAAKkF,EAAU/E,IAAI,4B,GA5C5D7F,IAAMa,aC+DXiC,G,OAAAA,E,4MAjEbzC,MAAQ,CACNwK,UAAU,EACVC,YAAa,I,EAGfC,WAAa,WACoB,KAA3B,EAAK1K,MAAMyK,YACb,EAAKtK,SAAS,CAAEsK,YAAa,eAAgBD,UAAW,EAAKxK,MAAMwK,WAGnE,EAAKrK,SAAS,CAAEsK,YAAa,GAAID,UAAW,EAAKxK,MAAMwK,Y,EAI3DnI,OAAS,WACwB,KAA3B,EAAKrC,MAAMyK,aACb,EAAKtK,SAAS,CAAEsK,YAAa,eAAgBD,UAAU,IACvD,EAAKlK,MAAM+B,WAGX,EAAKlC,SAAS,CAAEsK,YAAa,GAAID,UAAU,IAC3C,EAAKlK,MAAM+B,W,4CAIf,WACE,OACE,8BACGjC,KAAKE,MAAMwB,WACV,sBAAKjB,GAAG,YAAR,UACE,cAAC,IAAD,CAAMgC,GAAI,IAAKhC,GAAG,WAAlB,SACE,qBAAKA,GAAG,OAAOwE,IAAKsF,EAAMnF,IAAI,WAEhC,oBAAG5C,UAAU,UAAU/B,GAAIT,KAAKJ,MAAMyK,YAAtC,4BAAmErK,KAAKE,MAAM0B,MAAQ5B,KAAKE,MAAM0B,KAAKT,SAAtG,OACCnB,KAAKJ,MAAMwK,SACV,sBAAK3J,GAAG,cAAR,UACE,mBAAGA,GAAG,aAAa4E,QAASrF,KAAKsK,WAAjC,eACA,cAAC,IAAD,CAAM9H,UAAU,YAAYC,GAAG,SAA/B,SACE,mBAAGD,UAAU,YAAb,qBAEF,cAAC,IAAD,CAAMA,UAAU,YAAYC,GAAE,mBAAczC,KAAKE,MAAM0B,KAAK8C,KAA5D,SACE,mBAAGlC,UAAU,YAAb,uBAEF,cAAC,IAAD,CAAMA,UAAU,YAAYC,GAAG,YAA/B,SACE,mBAAGD,UAAU,YAAb,wBAEF,mBAAGA,UAAU,YAAY6C,QAASrF,KAAKiC,OAAvC,uBACS,qBAAKxB,GAAG,YAAYwE,IC1D9B,iVD0DyCI,QAASrF,KAAKsK,WAAYlF,IAAI,iBAG5E,sBAAK3E,GAAG,aAAR,UACE,eAAC,IAAD,CAAMgC,GAAG,SAAT,UACE,wBAAQD,UAAU,gBAAlB,mBAAiD,OAEnD,uBACA,eAAC,IAAD,CAAMC,GAAG,UAAT,UACE,wBAAQD,UAAU,gBAAlB,qBAAmD,gB,GAzD5CpC,eEsBNiC,SA1Bf,SAAoBmI,GAAY,IAEtB9I,EAA0B8I,EAA1B9I,WAAYC,EAAc6I,EAAd7I,UAGd8I,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAIjJ,EAAkB,UAGpB,cAAC,IAAD,CACEgJ,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS3K,GACP,OAAIwB,EAAmB,cAAC,IAAD,CAAUe,GAAG,UACzBf,OAAN,EAAyB,cAAC+I,EAAD,eAAqBvK,UCQ9CmC,SA1Bf,SAAuBmI,GAAY,IAEzB9I,EAA0B8I,EAA1B9I,WAAYC,EAAc6I,EAAd7I,UAGd8I,EAAkBD,EAAWE,UAC3BC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAGf,OAAIjJ,EAAkB,UAGpB,cAAC,IAAD,CACEgJ,MAAOA,EACPC,KAAMA,EACNC,OACE,SAAS3K,GACP,OAAMwB,EACGA,EAAmB,cAAC+I,EAAD,eAAqBvK,SAA5C,EADoB,cAAC,IAAD,CAAUuC,GAAG,YCvBjC,gtICAA,ggKCUfqI,EAAQ,IAAUC,S,IA4RH1I,KAAShC,E,4MAzRtBT,MAAQ,CACN4F,OAAQ,IACRwF,QAAQ,EACRzE,OAAQ,GACRxC,YAAa,GAEbkH,eAAgB,GAChBC,WAAY,GACZC,OAAQ,GACRC,cAAe,GACfC,WAAY,GACZ/I,KAAM,I,EAGRQ,aAAe,SAACF,GAAW,IAAD,EACAA,EAAMG,OAAtBC,EADgB,EAChBA,KAAM/C,EADU,EACVA,MACd,EAAKF,SAAL,eAAiBiD,EAAO/C,IAFA,IAIhBuF,EAAW,EAAK5F,MAAhB4F,OACRF,EACGC,aAAaC,GACb5E,MAAK,SAAC0K,GACL,IAAMC,EAAQD,EAAK9J,KAAKkE,KAAKkE,QAAQ1D,MACrC,EAAKnG,SAAS,CAAEkL,eAAgBM,OAEjCzJ,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAGhCyJ,WAAa,SAAC5I,GACZA,EAAMC,iBACN,EAAK9C,SAAS,CAAEyF,OAAQ,KACxB,EAAKiG,cACL,EAAKC,c,EAGPD,YAAc,WACZ,EAAK1L,SAAS,CAAEkL,eAAgB,KAChC,EAAKlL,SAAS,CAAEoL,QAAQ,IACxB,EAAKpL,SAAS,CAAEqL,eAAe,IAC/B,EAAKrL,SAAS,CAAEmL,YAAY,IAC5B,EAAKnL,SAAS,CAAEsL,YAAY,K,EAG9BM,UAAY,WACVrG,EAAeO,mBAAmBjF,MAAK,SAAC0K,GAEtC,EAAKvL,SAAS,CAAEqL,cAAeE,EAAK9J,KAAKoI,c,EAI7CgC,gBAAkB,WAChB,IAAMtD,EAAQ,EAAK1I,MAAMmE,YAAY2F,OAAS,EACxC9D,EAAW,EAAKhG,MAAMmE,YAAYuE,GACxChD,EACGQ,kBAAkBF,GAClBhF,MAAK,SAAC0K,GACL,IAAMO,EAAaP,EAAK9J,KAAKkE,KAAKkE,QAClC,EAAK7J,SAAS,CAAEmL,WAAYW,OAE7B/J,OAAM,SAACC,GACNG,QAAQC,IAAI,sBAAuBJ,O,EAIzC+J,kBAAoB,WAClB,EAAKL,cACL,IAAMlF,EAAS,EAAKrG,MAAM0B,KAAK8C,IAC/BnE,EAAYC,aAAa+F,GAAQ3F,MAAK,SAACmL,GACrC,EAAKhM,SAAS,CAAEgE,YAAagI,EAAOvK,KAAKuC,cACzC,IAAM6B,EAAWmG,EAAOvK,KAAKuC,YAE7BuB,EAAeK,WAAWC,GACvBhF,MAAK,SAAC0K,GACLpJ,QAAQC,IAAImJ,EAAK9J,KAAKkE,KAAKkE,SAC3B,EAAK7J,SAAS,CAAEsL,WAAYC,EAAK9J,KAAKkE,KAAKkE,gBAIjD,EAAKgC,mB,EAGPI,aAAe,WACb,IAAMpG,EAAW,EAAKhG,MAAMmE,YAE5BuB,EAAeG,UAAUG,GACtBhF,MAAK,SAACC,GACL,IAAMoL,EAASpL,EACf,EAAKd,SAAS,CAAEoL,OAAQ,CAACc,QAE1BnK,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,MAC9B,EAAK6J,mB,EAGPF,WAAa,WACX,EAAK3L,SAAS,CAAEkL,eAAgB,KAChC,IAAM1E,EAAS,EAAKrG,MAAM0B,KAAK8C,IAE/BnE,EAAYC,aAAa+F,GAAQ3F,MAAK,SAACmL,GACrC,EAAKhM,SAAS,CAAEgE,YAAagI,EAAOvK,KAAKuC,cAAe,WACtD,IAAM6B,EAAW,EAAKhG,MAAMmE,YACJ,IAApB6B,EAAS8D,OACX,EAAKiC,YACwB,IAApB/F,EAAS8D,OAClB,EAAKsC,eACIpG,EAAS8D,OAAS,GAC3B,EAAKoC,2B,EAMbI,SAAW,SAAC5F,GACV,IAAM1E,EAAO,EAAK1B,MAAM0B,KAAK8C,IAC7BtB,EACGQ,WAAWhC,EAAM,CAAEuK,MAAO,CAAEpI,YAAauC,KACzC1F,MAAK,SAACY,GACL,EAAKkK,gBAEN5J,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAIhCqK,cAAgB,SAAC9F,GACf,EAAKmF,cACL,IAAM7J,EAAO,EAAK1B,MAAM0B,KAAK8C,IAC7BtB,EACGQ,WAAWhC,EAAM,CAAEyK,MAAO,CAAEtI,YAAauC,KACzC1F,MAAK,SAACY,GACL,EAAKkK,iB,EAUXnJ,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAX1B,WACEtC,KAAK0L,aACL1L,KAAKuC,e,oBAaP,WAAU,IAAD,OAGP,OAFAL,QAAQC,IAAI,QAASnC,KAAKJ,OAGxB,sBAAK4C,UAAS,8CAAyCxC,KAAKJ,MAAM0C,MAAlE,UACqC,IAAlCtC,KAAKJ,MAAMmE,YAAY2F,QACtB,8DAGF,uBAAMzG,SAAUjD,KAAKwL,WAArB,UACE,uBACExI,KAAK,SACLE,KAAK,OACL8B,YAAY,2BACZ/E,MAAOD,KAAKJ,MAAM4F,OAClBrC,SAAUnD,KAAK8C,aACfN,UAAS,gBAAWxC,KAAKJ,MAAM0C,MAC/BgK,aAAa,QAEf,wBAAQ9J,UAAS,qCAAgCxC,KAAKJ,MAAM0C,MAA5D,sBAIDtC,KAAKJ,MAAMqL,gBACVjL,KAAKJ,MAAMqL,eAAe7C,KAAI,SAAC5G,GAC7B,OACE,sBAAKgB,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAE,kBAAajB,EAAKf,IAA1B,UACGe,EAAKmG,OAAO,GACX,qBACE1C,IAAKzD,EAAKmG,OAAO,GAAGC,IACpBxC,IAAI,aACJ5C,UAAU,eAEV,KACJ,6BAAKhB,EAAKwB,UAEZ,wBAAQR,UAAS,iDAA4C,EAAK5C,MAAM0C,MAAQ+C,QAAS,kBAAM,EAAK6G,SAAL,UAAiB1K,EAAKf,MAArH,SACE,qBAAKwE,IAAKsH,GAAYnH,IAAI,gBAAgB5C,UAAS,iDAA4C,EAAK5C,MAAM0C,YAZ3Ed,EAAKf,OAmB7CT,KAAKJ,MAAMyL,YACVrL,KAAKJ,MAAMyL,WAAWjD,KAAI,SAAC5G,GACzB,OACE,sBAAKgB,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAE,kBAAajB,EAAKf,IAA1B,UACGe,EAAKmG,OAAO,GACX,qBACE1C,IAAKzD,EAAKmG,OAAO,GAAGC,IACpBxC,IAAI,aACJ5C,UAAU,eAEV,KACJ,6BAAKhB,EAAKwB,UAEZ,wBAAQR,UAAS,wCAAmC,EAAK5C,MAAM0C,MAAQ+C,QAAS,kBAAM,EAAK+G,cAAL,UAAsB5K,EAAKf,MAAjH,SACG,qBAAKwE,IAAKuH,GAAUpH,IAAI,gBAAgB5C,UAAS,iDAA4C,EAAK5C,MAAM0C,YAZ1Ed,EAAKf,OAmB7CT,KAAKJ,MAAMuL,QACVnL,KAAKJ,MAAMuL,OAAO/C,KAAI,SAACC,GACrB,OACE,sBAAK7F,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAE,kBAAa4F,EAAG5H,IAAxB,UACG4H,EAAGV,QACF,qBACE1C,IAAKoD,EAAGV,OAAO,GAAGC,IAClBxC,IAAI,aACJ5C,UAAU,eAGd,6BAAK6F,EAAGrF,UAEV,wBAAQR,UAAS,wCAAmC,EAAK5C,MAAM0C,MAAQ+C,QAAS,kBAAM,EAAK+G,cAAL,UAAsB/D,EAAG5H,MAA/G,SACE,qBAAKwE,IAAKuH,GAAUpH,IAAI,gBAAgB5C,UAAS,iDAA4C,EAAK5C,MAAM0C,YAZzE+F,EAAG5H,OAiB3CT,KAAKJ,MAAMsL,YACVlL,KAAKJ,MAAMsL,WAAW9C,KAAI,SAACC,GACzB,OACE,sBAAK7F,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAE,kBAAa4F,EAAG5H,IAAxB,UACG4H,EAAGV,QACF,qBACE1C,IAAKoD,EAAGV,OAAO,GAAGC,IAClBxC,IAAI,aACJ5C,UAAU,eAGd,6BAAK6F,EAAGrF,UAEV,wBAAQR,UAAS,uCAAkC,EAAK5C,MAAM0C,MAAQ+C,QAAS,kBAAM,EAAK6G,SAAL,UAAiB7D,EAAG5H,MAAzG,SACA,qBAAKwE,IAAKsH,GAAYnH,IAAI,gBAAgB5C,UAAS,iDAA4C,EAAK5C,MAAM0C,YAZzE+F,EAAG5H,OAmB3CT,KAAKJ,MAAMwL,eACVpL,KAAKJ,MAAMwL,cAAchD,KAAI,SAACC,GAC5B,OACE,sBAAK7F,UAAU,eAAf,UACE,eAAC,IAAD,CAAMC,GAAE,kBAAa4F,EAAG5H,IAAxB,UACG4H,EAAGV,QACF,qBACE1C,IAAKoD,EAAGV,OAAO,GAAGC,IAClBxC,IAAI,aACJ5C,UAAU,eAGd,6BAAK6F,EAAGrF,UAEV,wBAAQR,UAAS,uCAAkC,EAAK5C,MAAM0C,MAAQ+C,QAAS,kBAAM,EAAK6G,SAAL,UAAiB7D,EAAG5H,MAAzG,SACI,qBAAKwE,IAAKsH,GAAYnH,IAAI,gBAAgB5C,UAAS,iDAA4C,EAAK5C,MAAM0C,YAZ7E+F,EAAG5H,c,GApQjCL,eCPnB0K,EAAQ,IAAUC,S,IAkGH1I,KAAShC,E,4MA/FtBT,MAAQ,CACNoD,KAAM,GACN6D,QAAS,GACTM,WAAY,EACZC,UAAW,EACXC,OAAQ,GACRoF,OAAQ,GACRC,MAAO,GACPpK,KAAM,I,EAGRkF,eAAiB,WAAO,IACd/G,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeG,UAAUhF,GAAIG,MAAK,SAACY,GACjC,EAAKzB,SAAS,CACZiD,KAAMxB,EAAKwB,KACX6D,QAASrF,EAAKmG,OAAO,GAAGC,IACxBT,WAAY3F,EAAK2F,WACjBC,UAAW5F,EAAK4F,UAAUS,MAC1BR,OAAQ7F,EAAK6F,a,EAKnBsF,cAAgB,WAAO,IACblM,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeS,SAAStF,GACvBG,MAAK,SAACY,GACH,EAAKzB,SAAS,CAAC0M,OAAQjL,EAAK0E,QAC5BhE,QAAQC,IAAI,EAAKvC,MAAM6M,Y,EAI7BG,eAAiB,WAAO,IACdnM,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeU,aAAavF,GAC3BG,MAAM,SAACY,GACJ,EAAKzB,SAAS,CAAC2M,MAAOlL,EAAKqL,OAAOpE,MAAM,EAAE,MAC1CvG,QAAQC,IAAIX,EAAKqL,Y,EAWvBtK,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAZ1B,WACEtC,KAAKwH,iBACLxH,KAAK2M,gBACL3M,KAAK4M,iBACL5M,KAAKuC,e,oBAYP,WACE,OACE,sBAAKC,UAAS,oDAA+CxC,KAAKJ,MAAM0C,MAAxE,UACE,6BAAKtC,KAAKJ,MAAMoD,OAChB,+BAAKhD,KAAKJ,MAAM6M,OAAO/C,OAAvB,aACA,qBAAKlH,UAAU,YAAf,SACKxC,KAAKJ,MAAM6M,OAAOrE,KAAI,SAACC,GACpB,OACI,8BACI,eAAC,IAAD,CAAM5F,GAAE,8BAAyB4F,EAAG5H,IAApC,UACI,qBAAK+B,UAAU,cAAcyC,IAAKoD,EAAGV,OAAO,GAAGC,IAAKxC,IAAI,UACxD,4BAAIiD,EAAGrF,WAHLqF,EAAG5H,SASzB,+BAAKT,KAAKJ,MAAMoD,KAAhB,mBACKhD,KAAKJ,MAAM8M,MAAMtE,KAAI,SAACC,GAEnB,OACIA,EAAGyE,aACH,gCACI,4BAAIzE,EAAGrF,OACP,uBAAO+J,UAAQ,EAAC9H,IAAKoD,EAAGyE,gBAFlBzE,EAAG5H,OAOzB,wBAAQ+B,UAAU,sBAAsB6C,QAASrF,KAAKE,MAAMyE,QAAQwD,OAApE,4B,GAxFgB/H,eCHxB0K,EAAQ,IAAUC,S,ICGdiC,GACAC,GDuEW5K,KAAShC,E,4MAxEtBT,MAAQ,CACJ8M,MAAO,GACPQ,MAAO,GACP5K,KAAM,I,EAGV6K,wBAA0B,WAAO,IACvB1M,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeW,eAAexF,GAC3BG,MAAK,SAACY,GACH,EAAKzB,SAAS,CAAC2M,MAAOlL,OAEzBM,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAGhCqL,kBAAoB,WAAO,IACjB3M,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAea,YAAY1F,GAC1BG,MAAK,SAACY,GACHU,QAAQC,IAAIX,GAEZ,EAAKzB,SAAS,CAACmN,MAAO1L,OAEzBM,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,O,EAW9BQ,WAAa,YACmB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAb1B,WACEtC,KAAKmN,0BACLnN,KAAKoN,oBACLpN,KAAKuC,e,oBAcP,WACE,OACI,sBAAKC,UAAS,oDAA+CxC,KAAKJ,MAAM0C,MAAxE,UACI,gDAAmBtC,KAAKJ,MAAMsN,MAAMlK,QACnChD,KAAKJ,MAAMsN,MAAMvF,QAAW,qBAAK1C,IAAKjF,KAAKJ,MAAMsN,MAAMvF,OAAO,GAAGC,IAAKxC,IAAI,QAAQ5C,UAAU,gBAC7F,oBAAGA,UAAU,kBAAb,0BAA6CxC,KAAKJ,MAAMsN,MAAMG,gBAC9D,oBAAG7K,UAAU,kBAAb,oBAAuCxC,KAAKJ,MAAMsN,MAAMI,SACxD,6BACKtN,KAAKJ,MAAM8M,MAAMtE,KAAI,SAACC,GACnB,OACI,6BACI,gCACI,4BAAIA,EAAGrF,OACNqF,EAAGyE,aACJ,uBAAOC,UAAQ,EAAC9H,IAAKoD,EAAGyE,kBAJxB,cAUpB,wBAAQtK,UAAU,sBAAsB6C,QAASrF,KAAKE,MAAMyE,QAAQwD,OAApE,4B,GAhEY/H,e,iDCmKTiC,KAAShC,GA/JP,SAACH,GAAW,IAAD,EACAqN,mBAAS,IADT,oBACnBC,EADmB,KACZC,EADY,OAEIF,mBAAS,IAFb,oBAEnBG,EAFmB,KAEVC,EAFU,OAGMJ,mBAAS,IAHf,oBAGnBK,EAHmB,KAGTC,EAHS,OAIIN,oBAAS,GAJb,oBAInBO,EAJmB,KAIVC,EAJU,KAMpBC,EAAQC,mBACR9M,EAAWjB,EAAM0B,KAAKT,SAM5BiC,EACGG,QAAQrD,EAAM0B,KAAK8C,KACnB9D,MAAK,SAACY,GACLyL,GAASzL,EAAK0M,KACdhM,QAAQC,IAAIX,EAAK0M,SAElBpM,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,MAG9BoM,qBAAU,WAkCR,OAjCAnB,GAASoB,KAAGnN,kCAA+B,CACzCoN,WAAY,CAAC,YAAa,WAC1BC,UAAU,KAGLC,GAAG,WAAW,WACnBvB,GAAOwB,KAAK,WAAYrN,GACxB4M,GAAW,MAGbf,GAAOuB,GAAG,SAAS,SAACf,GAClBC,EAASD,MAGXR,GAAOuB,GAAG,WAAW,SAACb,GACpBG,GAAY,SAACD,GAAD,4BAAkBA,GAAlB,CAA4BF,UAG1CV,GAAOuB,GAAG,aAAa,SAAC3M,GACtB6L,GAAS,SAACD,GAAD,4BAAeA,GAAf,CAAsB5L,UAGjCoL,GAAOuB,GAAG,gBAAgB,SAAC9N,GACzBgN,GAAS,SAACD,GACR,OAAOA,EAAMiB,QAAO,SAAC7M,GAAD,OAAUA,EAAKnB,KAAOA,WAI9CuM,GAAOuB,GAAG,iBAAiB,SAACxM,GAC1BG,QAAQC,IAAR,+BAAoCJ,EAAI2L,aAInC,WACLV,GAAO0B,gBAER,IAkBH,OACE,sBAAKlM,UAAU,iBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,0BAGjB,qBAAKA,UAAU,WAAf,SACE,+BAAKgL,EAAM9D,OAAX,wBAGF,qBAAKlH,UAAU,MAAf,SACE,sBAAKA,UAAU,WAAf,UACE,sBAAK/B,GAAG,WAAR,UACGmN,EAASxF,KACR,WAAuBE,GAAvB,IAAG1G,EAAH,EAAGA,KAAM8E,EAAT,EAASA,KAAMiI,EAAf,EAAeA,KAAf,OACEA,EAAK1B,SAAWA,IACd,8BACE,qBAEEzK,UAAS,UACPZ,EAAKoB,OAAS7B,EACV,yBACA,4BALR,SASE,gCACE,sBAAKqB,UAAU,WAAf,UACE,uBAAMA,UAAU,YAAhB,UACGoM,KAAOlI,GAAMmI,OAAO,QAAS,OAFlC,UAIMjN,EAAKoB,OAAS7B,EAAW,GAAKS,EAAKoB,SAEzC,qBAAKR,UAAU,WAAf,SAA2BmM,EAAKjB,cAf7BpF,QAgCf,sBAAMwG,IAAKd,EAAOxL,UAAU,aAG9B,sBAAMS,SApEC,SAACL,GACdA,EAAMC,iBACNmK,GAAOwB,KAAK,OAAQ,CAAEd,UAAST,YAC/BU,EAAW,IACXK,EAAMe,QAAQC,eAAe,CAAEC,SAAU,YAgEXxO,GAAG,OAA3B,SACE,sBAAK+B,UAAU,cAAf,UACE,uBACE0M,UAAWpB,EACX5K,KAAK,OACLV,UAAU,eACVW,SAAU,SAACgM,GAAD,OAAOxB,EAAWwB,EAAEC,cAAcnP,QAC5CA,MAAOyN,EACPpB,aAAa,MACb7L,GAAG,SAEL,sBAAM+B,UAAU,kBAAhB,SACE,wBACE0M,UAAWpB,EACXrN,GAAG,SACHyC,KAAK,SACLV,UAAU,4BAJZ,6CCnGDnC,K,4MA/CXT,MAAQ,CACJoD,KAAM,GACN6D,QAAS,GACTM,WAAY,EACZC,UAAW,EACXC,OAAQ,GACR/E,KAAM,I,EAGVkF,eAAiB,WAAO,IACZ/G,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR6E,EAAeG,UAAUhF,GACxBG,MAAM,SAACY,GACJ,EAAKzB,SAAS,CAAEiD,KAAMxB,EAAKwB,KAAM6D,QAASrF,EAAKmG,OAAO,GAAGC,IACrDT,WAAY3F,EAAK2F,WAAYC,UAAW5F,EAAK4F,UAAUS,MAAOR,OAAQ7F,EAAK6F,a,EAIvF9E,WAAa,YACqB,IAA1B,EAAKrC,MAAML,WACb,EAAKE,SAAS,CAAEuC,KAAM,SAGtB,EAAKvC,SAAS,CAAEuC,KAAM,W,uDAI5B,WACItC,KAAKwH,iBACLxH,KAAKuC,e,oBAIT,WACI,OACI,sBAAKC,UAAS,8BAAyBxC,KAAKJ,MAAM0C,MAAlD,UACI,6CAAgBtC,KAAKJ,MAAMoD,KAA3B,aACA,wBAAQR,UAAU,gBAAgB6C,QAASrF,KAAKE,MAAMyE,QAAQwD,OAA9D,oBAGA,cAAC,GAAD,CAAUhH,SAAUnB,KAAKJ,MAAMoD,c,GAzC3B5C,cCULiP,G,4JAZX,WACI,OACI,sBAAK7M,UAAU,oBAAf,UACI,+CACA,wBAAQA,UAAU,gBAAgB6C,QAASrF,KAAKE,MAAMyE,QAAQwD,OAA9D,2B,GALW/H,aC6EZiC,KA1Ef,4MACEzC,MAAQ,CACNgD,MAAO,GACP+D,aAAc,GACd2I,gBAAiB,IAJrB,EAOEC,cAAgB,WAAO,IACb9O,EAAO,EAAKP,MAAMuH,MAAMC,OAAxBjH,GACR+O,EAAaxI,aAAavG,GACvBG,MAAK,SAACY,GACL,EAAKzB,SAAS,CACZ6C,MAAOpB,EAAKA,KACZmF,aAAcnF,EAAKA,KAAKmF,eAE1B,EAAK8I,yBAEN3N,OAAM,SAACC,GAAD,OAASG,QAAQC,IAAIJ,OAjBlC,EAoBE2N,UAAY,WACV,IAAMzI,EAAU,EAAKrH,MAAMgD,MAAM8B,IAC3B6B,EAAS,EAAKrG,MAAM0B,KAAK8C,IAE/B8K,EAAatI,YAAYD,EAAS,CAAEkF,MAAO,CAAExF,aAAcJ,KAC1D3F,MAAK,SAACC,GAAD,OAAc,EAAK0O,oBAzB7B,EAgCEE,oBAAsB,WACpB,IAAME,EAAU,EAAK/P,MAAM+G,aAAayB,KAAI,SAACC,GAC3C,OAAOA,EAAG3D,OAEZ,EAAK3E,SAAS,CAACuP,gBAAiBK,KApCpC,uDA4BE,WACE3P,KAAKuP,kBA7BT,oBAwCE,WAIE,OAHArN,QAAQC,IAAI,2BAA4BnC,KAAKJ,MAAMgD,MAAMkE,SACzD5E,QAAQC,IAAI,qBAAsBnC,KAAKE,MAAM0B,KAAK8C,KAGhD,sBAAKlC,UAAU,aAAf,UACE,wBAAQA,UAAU,gBAAgB6C,QAASrF,KAAKE,MAAMyE,QAAQwD,OAA9D,oBAGA,8CACA,wCAAWnI,KAAKJ,MAAMgD,MAAM4D,SAC5B,8CAAiBxG,KAAKJ,MAAMgD,MAAM6D,eAClC,6BACGzG,KAAKJ,MAAM+G,aAAayB,KAAI,SAACC,EAAIC,GAChC,OAAO,6BAAiBD,EAAGlH,UAAXmH,QAInBtI,KAAKJ,MAAMgD,MAAMkE,UAAU9G,KAAKE,MAAM0B,KAAK8C,IAC5C,uDAEA1E,KAAKJ,MAAM0P,gBAAgBM,SAAS5P,KAAKE,MAAM0B,KAAK8C,KAClD,4DAEA,wBAAQW,QAASrF,KAAK0P,UAAtB,oCAhEV,GAA+BtP,cCyDhBC,K,4MAnCbT,MAAQ,CACN0C,KAAM,I,4CAGR,WAGE,OACE,sBAAKE,UAAU,YAAf,UACE,cAAC,EAAD,IAEA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOmI,OAAK,EAACC,KAAK,IAAIF,UAAWmF,IAEjC,cAAC,EAAD,CAAWlF,OAAK,EAACC,KAAK,UAAUF,UAAWoF,IAC3C,cAAC,EAAD,CAAWnF,OAAK,EAACC,KAAK,SAASF,UAAWqF,IAE1C,cAAC,EAAD,CAAcpF,OAAK,EAACC,KAAK,QAAQF,UAAWsF,KAC5C,cAAC,EAAD,CAAcrF,OAAK,EAACC,KAAK,SAASF,UAAWuF,IAC7C,cAAC,EAAD,CAActF,OAAK,EAACC,KAAK,YAAYF,UAAWwF,IAChD,cAAC,EAAD,CAAcvF,OAAK,EAACC,KAAK,eAAeF,UAAWyF,IACnD,cAAC,EAAD,CAAcxF,OAAK,EAACC,KAAK,cAAcF,UAAW0F,IAClD,cAAC,EAAD,CAAczF,OAAK,EAACC,KAAK,2BAA2BF,UAAW2F,IAC/D,cAAC,EAAD,CAAc1F,OAAK,EAACC,KAAK,oBAAoBF,UAAW4F,KACxD,cAAC,EAAD,CAAc3F,OAAK,EAACC,KAAK,0BAA0BF,UAAW6F,KAC9D,cAAC,EAAD,CAAc5F,OAAK,EAACC,KAAK,mBAAmBF,UAAW8F,KACvD,cAAC,EAAD,CAAc7F,OAAK,EAACC,KAAK,eAAeF,UAAW2E,KACnD,cAAC,EAAD,CAAc1E,OAAK,EAACC,KAAK,oBAAoBF,UAAW+F,e,GA5BhDrQ,cClBlBsQ,IAAS7F,OACP,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UAIN8F,SAASC,eAAe,U","file":"static/js/main.9f67fb55.chunk.js","sourcesContent":["import React from 'react';\n\nconst { Consumer, Provider } = React.createContext();\n\nclass ModeProvider extends React.Component {\n    state = {\n        modeIsDark: false\n    }\n\n    toggleMode = () => {\n        this.setState({ modeIsDark: !this.state.modeIsDark })\n    }\n \n    render() {\n        const { modeIsDark } = this.state;\n        const { toggleMode } = this;\n        \n        return(\n            <Provider value={{toggleMode, modeIsDark}}>\n                {this.props.children}\n            </Provider>\n        )\n    }\n}\n\nconst withMode = (WrappedComponent) => {\n\n    return function (props) {\n        return(\n            <Consumer>\n                { (value) => {\n                    const { toggleMode, modeIsDark } = value;\n\n                    return (\n                        <WrappedComponent \n                        toggleMode={toggleMode} \n                        modeIsDark={modeIsDark}\n                        {...props} />\n                    )\n                }}\n            </Consumer>\n        )\n    }\n}\n\nexport { ModeProvider, withMode };","import axios from \"axios\";\n\nclass AuthService {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup( username, password, email, image ) {\n    const pr = this.auth\n      .post(\"/auth/signup\", { username, password, email, image })\n      .then((response) => response.data);\n    // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\n\n    return pr;\n  }\n\n  login(username, password) {\n    const pr = this.auth\n      .post(\"/auth/login\", { username, password })\n      .then((response) => response.data);\n\n    return pr;\n  }\n\n  logout() {\n    const pr = this.auth.get(\"/auth/logout\").then((response) => response.data);\n\n    return pr;\n  }\n\n  me() {\n    const pr = this.auth.get(\"/auth/me\").then((response) => response.data);\n\n    return pr;\n  }\n\n  // auth/user/:id\n  retrieveUser = (id) => {\n    const pr = this.auth.get(`auth/update/${id}`)\n    .then((response) => response);\n    return pr\n  };\n}\n\nconst authService = new AuthService();\n\nexport default authService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import React from 'react';\nimport authService from '../services/auth-service';\n\nconst { Consumer, Provider } = React.createContext();\n\n\nclass AuthProvider extends React.Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  }\n\n  componentDidMount () {\n    authService.me()\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\n  }\n\n  signup = (username, password, email, image) => {\n    authService.signup( username, password, email, image )\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  login = (username, password) => {\n    authService.login( username, password )\n      .then((user) => this.setState({ isLoggedIn: true, user }))\n      .catch((err) => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n  }\n\n  logout = () => {\n    authService.logout()\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\n      .catch((err) => console.log(err));\n  }\n\n\n  render() {\n    const { isLoggedIn, isLoading, user } = this.state;\n    const { signup, login, logout } = this;\n\n    if (isLoading) return <p>Loading</p>;\n\n    return(\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\n        {this.props.children}\n      </Provider>\n    )\n  }\n\n}\n\n\n// HOC that converts regular component into a Consumer\nconst withAuth = (WrappedComponent) => {\n  \n  return function (props) {\n      return(\n        <Consumer>\n          { (value) => {\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\n\n            return (\n              <WrappedComponent \n                isLoggedIn={isLoggedIn} \n                isLoading={isLoading} \n                user={user} \n                signup={signup} \n                login={login} \n                logout={logout}\n                {...props}\n              />\n            )\n\n          } }\n        </Consumer>\n        )\n    }\n}\n\n\nexport { AuthProvider, withAuth }","import React from 'react'\nimport { withAuth } from './../../context/auth-context'\nimport { withMode } from './../../context/mode-context'\nimport { Link } from 'react-router-dom';\n\nclass Home extends React.Component {\n  state = {\n    mode: \"\"\n  }\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  componentDidMount() {\n    this.handleMode();\n  }\n\n  render() {\n    return (\n      <main id={`cover-background-${this.state.mode}`} className={this.state.mode}>\n        <div> \n          <h1 id={`main-title-${this.state.mode}`}>Groovster</h1>\n          <h2 id={`motto-${this.state.mode}`}>Meet with other band fanatics</h2>\n        </div>\n        {this.props.isLoggedIn \n        ? (<Link to=\"/main\">\n          <button id={`browse-button-${this.state.mode}`}>Browse!</button>\n        </Link>)\n        : null}\n      </main>\n    )\n  }\n}\n\nexport default withAuth(withMode(Home));","export default __webpack_public_path__ + \"static/media/default-avatar.eb8ac4ec.png\";","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from './../../context/auth-context';\nimport { withMode } from './../../context/mode-context';\n\nimport avatar from './../../images/default-avatar.png'\n\nclass Signup extends Component {\n  state = { \n    username: \"\",\n    password: \"\",\n    email: \"\",\n    image: avatar,\n    mode: \"\"\n   };\n  \n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password, email, image } = this.state;\n    this.props.signup( username, password, email, image );\n  };\n  \n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  componentDidMount() {\n    this.handleMode();\n  }\n  \n  render() {\n    const { username, password, email} = this.state;\n    return (\n      <div id={`cover-background-expanded-${this.state.mode}`}>\n        \n        <form className={`input-form-${this.state.mode}`} onSubmit={this.handleFormSubmit}>\n          <label>Username</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\n          \n          <label>Email </label>\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\n          \n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n          \n          <input id={`submit-button-${this.state.mode}`} type=\"submit\" value=\"Join!\" />\n        </form>\n        \n        <Link id={`account-yet-${this.state.mode}`} to={\"/login\"}>\n          <p>Already have an account?</p>\n        </Link>\n      </div>\n    );\n  }\n}\nexport default withAuth(withMode(Signup));","import React, { Component } from \"react\";\nimport { withAuth } from './../../context/auth-context';\nimport { withMode } from './../../context/mode-context';\n\nclass Login extends Component {\n  state = { \n    username: \"\",\n    password: \"\",\n    mode: \"\"\n   };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  componentDidMount() {\n    this.handleMode();\n  }\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div id={`cover-background-${this.state.mode}`} className={this.state.mode}>\n       <form className={`input-form-${this.state.mode}`} onSubmit={this.handleFormSubmit}>\n          \n          <label>Username</label>\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n\n          <input id={`submit-button-${this.state.mode}`} type=\"submit\" value=\"Go!\" />\n\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(withMode(Login));\n","import axios from \"axios\";\n\nclass UserService {\n  constructor() {\n    // this.api  is a reusable axios request base containing the base url (baseURL)\n    // of the API and the Headers options ( `withCredentials: true` )\n    this.api = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/users`,\n      withCredentials: true,\n    });\n  }\n\n  getByUsername = (value) => {\n    const pr = this.api\n    .get(`/search/${value}`)\n    .then( (response) => response.data)\n\n    return pr;\n  }\n\n  getUser = (id) => {\n    const pr = this.api\n    .get(`/${id}`)\n    .then( (response) => response.data)\n\n    return pr;\n  };\n\n  modifyUserChat = (id, changes) => {\n    console.log(changes);\n    \n    const pr = this.api\n    .put(`/${id}/${changes}`, changes)\n    .then( (response) => response.data)\n    return pr;\n  };\n\n// Change Settings\n  modifyUserSettings = (id, changes) => {\n    console.log(changes)\n    const pr = this.api\n    .put(`/settings/${id}`, changes)\n    .then( (response) => response.data)\n    return pr;\n  };\n\n  modifyUser = (id, changes) => {\n    const pr = this.api\n      .put(`/${id}`, changes)\n      .then( (response) => response.data)\n    return pr;\n  };\n\n  deleteUser = (id) => {\n    const pr = this.api\n    .delete(`/${id}`)\n    .then( (response) => response.data)\n\n    return pr;\n  };\n\n\n}\n\n// Create instance (object) containing all axios calls as methods\nconst userService = new UserService();\n\nexport default userService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","export default __webpack_public_path__ + \"static/media/default-avatar-dark.02689adb.png\";","import React, { Component } from 'react'\nimport { withAuth } from './../../context/auth-context';\nimport { withMode } from './../../context/mode-context';\nimport userService from './../../services/user-service';\n\nimport axios from 'axios';\n\nimport avatarLight from './../../images/default-avatar.png'\nimport avatarDark from './../../images/default-avatar-dark.png'\n\nimport './../../App.css'  \nimport './Settings.css'\n\n\nclass Settings extends Component {\n    state = {\n        username: \"\",\n        email: \"\",\n        image: \"\",\n        password: \"\",\n        preferences: [],\n        mode: \"\",\n        unfoldedButtons: \"folded\",\n    }\n\n    handleFormSubmit (event) {\n        event.preventDefault();\n        \n        const id = this.props.user._id;\n        const { username, email, image, password} = this.state;\n        \n        userService.modifyUserSettings(id, {username, email, image, password})\n        .then( (data) => {\n        this.setState({ username: this.state.username, email: this.state.email, image: this.state.image, password: this.state.password });\n        this.props.history.push(`/profile/${this.props.user_id}`);\n        })\n    }\n\n    handleChange = (event) => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value })\n    }\n\n    handleImageUpload = (event) => {\n        const file = event.target.files[0]; // we get the uploaded image\n\n        const uploadData = new FormData();\n        uploadData.append('image', file);\n\n        // we send the photo to the route that uploads it to Cloudinary\n        axios.post(`${process.env.REACT_APP_API_URL}/api/users/photo`, uploadData, { withCredentials: true })\n        .then( (response) => {\n            const {imageUrl} = response.data;\n            this.setState({ image: imageUrl })\n        })\n        .catch( (err) => console.log(err));\n    }\n\n    handleUnfolding = () => {\n        if (this.state.unfoldedButtons === \"folded\") {\n            this.setState({ unfoldedButtons: \"unfolded\" })\n          }\n        else {\n            this.setState({ unfoldedButtons: \"folded\" })\n        }\n    }\n\n    logout = () => {\n        this.props.logout();\n    }\n\n    deleteAccount = () => {\n        const id = this.props.user._id;\n\n        userService.deleteUser(id)\n        .then( () => {\n            this.props.logout();\n        })\n    }\n\n    toggleMode = () => {\n        this.props.toggleMode();\n        this.props.history.push(\"/\")\n    }\n\n    handleMode = () => {\n        if (this.props.modeIsDark === true) {\n          this.setState({ mode: \"dark\" })\n        }\n        else {\n          this.setState({ mode: \"light\" })\n        }\n      }\n\n    componentDidMount = () => {\n        const id = this.props.user._id;\n        this.handleMode();\n\n        userService.getUser(id)\n        .then((data) => {\n            this.setState({ username: data.username, email: data.email, image: data.image, preferences: data.preferences})\n        })\n    }\n\n    render() {\n        return (\n            <main id={`settings-main-${this.state.mode}`} className={`main-${this.state.mode}`}>\n                <form id={`settings-form-${this.state.mode}`} className={`input-form-${this.state.mode}`} name=\"modifyProfile\" encType=\"multipart/form-data\" \n                onSubmit={(event) => this.handleFormSubmit(event)}>\n                    <label>Username: </label>\n                    <input className={`settings-input-${this.state.mode}`} type=\"text\" name=\"username\" placeholder={this.props.user.username} \n                    value={this.state.username} onChange={(event) => this.handleChange(event)} />\n\n                    <label>Email: </label>\n                    <input className={`settings-input-${this.state.mode}`} type=\"email\" name=\"email\" placeholder={this.props.user.email} \n                    value={this.state.email} onChange={(event) => this.handleChange(event)} />\n\n                    <label>Picture: </label>\n                    { this.state.image &&\n                        <img id={`selected-img-${this.state.mode}`} src={this.state.image === \"/static/media/default-avatar.eb8ac4ec.png\" \n                                ? this.state.mode === \"light\" \n                                    ? avatarLight \n                                    : avatarDark\n                                : this.state.image} alt=\"user\" />\n                    }\n                    <input \n                        id={`image-input-${this.state.mode}`}\n                        type=\"file\" \n                        name=\"image\" \n                        onChange={this.handleImageUpload} \n                    />\n\n                    <label>Password :</label>\n                    <input className={`settings-input-${this.state.mode}`} type=\"password\" name=\"password\" placeholder=\"***\" \n                    value={this.state.password} onChange={(event) => this.handleChange(event)} />\n\n                    <input id={`submit-changes-button-${this.state.mode}`} type=\"submit\" value=\"Change\" />\n\n                </form>\n                <div>\n                    <button id={`switch-mode-button-${this.state.unfoldedButtons}-${this.state.mode}`} \n                    onClick={this.toggleMode}>{this.state.mode === \"light\" ? \"Switch to dark mode\" : \"Switch to light mode\"}</button>\n                </div>\n                <div className=\"button-container\">\n                    <button id={`logout-button-${this.state.unfoldedButtons}-${this.state.mode}`} onClick={this.handleUnfolding}>Log out</button>\n                    <p id={`reassurance-${this.state.unfoldedButtons}-${this.state.mode}`}>You sure?</p>\n                    <input id={`reassurance-checkbox-${this.state.unfoldedButtons}-${this.state.mode}`} type=\"checkbox\" onClick={this.logout} />\n                </div>\n                <div className=\"button-container\">\n                    <button id={`delete-account-button-${this.state.unfoldedButtons}-${this.state.mode}`} onClick={this.handleUnfolding}>Delete account</button>\n                    <p id={`out-of-mind-${this.state.unfoldedButtons}-${this.state.mode}`}>Are you out of your mind?</p>\n                    <input id={`out-of-mind-checkbox-${this.state.unfoldedButtons}-${this.state.mode}`} type=\"checkbox\" onClick={this.deleteAccount} />\n                </div>\n            </main>\n        )\n    }\n}\n\nexport default withAuth(withMode(Settings));\n","import axios from \"axios\";\n\nclass SpotifyService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api`,\n      withCredentials: true,\n    });\n  }\n\n  searchArtist = (search) => {\n    const pr = this.api\n      .post(`/spotify/main/`, { search })\n      .then((response) => response);\n    return pr;\n  };\n\n  getArtist = (id) => {\n    const pr = this.api\n      .get(`/spotify/artist/${id}`)\n      .then((response) => response.data.body);\n\n    return pr;\n  };\n\n  getArtists = (userPref) => {\n    const pr = this.api\n      .post(\"/spotify/main/preferences\", { userPref })\n      .then((response) => response);\n    return pr;\n  };\n\n  getRandomArtists = () => {\n    const pr = this.api\n      .get(`/spotify/main/no-preferences`)\n      .then((response) => response);\n    return pr;\n  };\n\n  getRelatedArtists = (userPref) => {\n    const pr = this.api\n      .post(\"/spotify/main/one-preference\", { userPref })\n      .then((response) => response);\n    return pr;\n  };\n\n  getAlbum = (id) => {\n    const pr = this.api\n      .get(`/spotify/artist/album/${id}`)\n      .then((response) => response.data.body);\n    return pr;\n  };\n\n  getTopTracks = (id) => {\n    const pr = this.api\n      .get(`/spotify/artist/top-tracks/${id}`)\n      .then((response) => response.data.body);\n    return pr;\n  };\n\n  getAlbumTracks = (id) => {\n    const pr = this.api\n      .get(`/spotify/artist/album/track/${id}`)\n      .then((response) => response.data.body.items);\n    return pr;\n  };\n\n  getOneAlbum = (id) => {\n    const pr = this.api\n      .get(`/spotify/artist/one-album/${id}`)\n      .then((response) => response.data.body);\n    return pr;\n  };\n}\n\n// Create instance (object) containing all axios calls as methods\nconst spotifyService = new SpotifyService();\n\nexport default spotifyService;\n\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\n// In the above case, all axios request calls are abstracted into methods.\n","import axios from \"axios\";\n\nclass EventService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: `${process.env.REACT_APP_API_URL}/api/events`,\n      withCredentials: true,\n    });\n  }\n\n  createEvent = (artistId, userId, changes) => {\n    const {\n      title,\n      description,\n      date,\n      participants,\n      location,\n      picture,\n    } = changes;\n    const pr = this.api\n      .post(`${artistId}/create`, {\n        creator: userId,\n        title,\n        description,\n        date,\n        participants,\n        location,\n        picture,\n      })\n      .then((response) => response.data);\n    return pr;\n  };\n\n  //  getEvent by Artist ID\n  getEvent = (artistId) => {\n    const pr = this.api.get(`/${artistId}`).then((response) => response.data);\n    return pr;\n  };\n\n  //getEvent by Event ID\n\n  getEventById = (eventId) => {\n    const pr = this.api\n      .get(`/one-event/${eventId}`)\n      .then((response) => response);\n    return pr;\n  };\n\n  updateEvent = (id, changes) => {\n    const pr = this.api\n      .put(`/update/${id}`, changes)\n      .then((response) => response);\n    return pr;\n  };\n}\n\n\n\nconst eventService = new EventService();\n\nexport default eventService;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFfAAARXwH207MgAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAACdQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIpVOngAAAAx0Uk5TAC0uLzAxdoDq6+ztaQS7igAABFpJREFUeNrt3MmRFTkUhtHasW0TMAETMAETMAEDtMEEMAEwAWxQAzIKmqahhjdkRS+I0Hfkgf44manh3ry5+bPjyaub9hizPf8na7UJjLVmHECbwPgngBkHUCYw/g1gxgF0CYz/AphxAFUC43cAMw6gSWDcDmDGARQJjLsBzDiAHoFxP4AZB1AjMB4GMOMAWgTGqQBmHECJwDgdwIwD6BAY5wKYcQAVAuN8ADMOoEFgXApgxgEUCIzLAcw4gP0JjGsBzDiA3QmM6wHMOIC9CYwjAcw4gJ0JjGMBzDiAfQmMowHMOIBdCYzjAcw4gLVetgGsry/iAD4BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAVgCexwF8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANgewJc6gA8AAAAAAAAAAAAAAAAAAAAtAM/iAN4DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABsBeFcH8BQAAAAAAIAogM91AG8BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPYE8FccwBsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICNAfxdB/AaAAAAAACAKoAdxv8BsGMAOQCrDmDVAaw6gFUHsOoAVh3AqgNYdQCrDmDVAaw6gFUHsOoAVh3AqgNYdQCrDmDVAaw6gFUHsOoAVh3AqgNYdQCrDmDVAaw6gFUHsOoABOARyL8EfQbzCyFL4fxmyHY4fyDiSCx/KOpYPH8x4mosfznqejxfIKFEJl8kpUwuXyipVDZfLK1cPt8woWUm3zSlbS7fOKl1Nt88rX0+/wMFv9BAAAEEEEDgEeNNncBnBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQACBJIG3eQJPEUAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQR6BN7VCXxBAAEEEEAgTuBZncB7BBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQCBG4EOewHMEEEAAAQQQQAABBBBAAIEugY91Al8RQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEogQ+5Qm8QAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAgRiBl3ECc8f5P4bAqy0DOE5gTwCPILApgMMEdgVwmMC2AA4S2BfAQQIbAzhEYGcAhwhsDeAAgb0BHCCwOYCrBHYHcJXA9gCuENgfwBUCAQAXCRQAXCSQAHCBQAPABQIRAGcJVACcJZABcIZAB8AZAiEAJwmUAJwkkAJwgkALwAkCMQAPCNQAPCCQA3CPQA/APQJBAHcIFAHcIZAEcItAE8AtAlEAvwhUAfwikAXwk0AXwE8CYQA/CJQB/CCQBvCdQBvAdwJ/GsA3IJSuQm/k4w0AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withMode } from \"./../../context/mode-context\"\nimport { Link } from \"react-router-dom\";\nimport spotifyService from \"./../../services/spotify-service\";\nimport eventService from \"./../../services/event-service\";\nimport userService from \"./../../services/user-service\";\n\nimport './../../App.css';\nimport './Artist.css';\n\nimport backLight from './../../images/go-back-light.png';\nimport backDark from './../../images/go-back-dark.png';\n\nclass Artist extends Component {\n  state = {\n    name: \"\",\n    picture: \"\",\n    popularity: 0,\n    followers: 0,\n    genres: [],\n    events: [],\n    seeEventsIsOn: false,\n    mode: \"\"\n  };\n\n  retrieveArtist = () => {\n    const { id } = this.props.match.params;\n    spotifyService.getArtist(id).then((data) => {\n      this.setState({\n        name: data.name,\n        picture: data.images[0].url,\n        popularity: data.popularity,\n        followers: data.followers.total,\n        genres: data.genres,\n      });\n    });\n  };\n\n  retrieveEvents = () => {\n    const { id } = this.props.match.params;\n    eventService.getEvent(id).then((data) => {\n      console.log(data);\n      this.setState({ events: data });\n    });\n  };\n\n  componentDidMount() {\n    this.handleMode();\n    this.retrieveEvents();\n    this.retrieveArtist();\n  }\n\n  toggleSeeEvents = () => {\n    this.setState({ seeEventsIsOn: !this.state.seeEventsIsOn });\n  };\n\n  updateChatModel = () => {\n    const { id } = this.props.match.params;\n    const userId = this.props.user._id;\n    userService\n      .modifyUserChat(userId, id)\n      .then((data) => console.log(\"success\"))\n      .catch((err) => console.log(err));\n  };\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  } \n\n  render() {\n    const { id } = this.props.match.params;\n\n    return (\n      <div id={this.state.mode === \"dark\" ? `artist-main-dark` : null}\n          className={this.state.mode === \"light\" ? `main-light page-margin-light` : null}>\n        <img id={`artist-goback-${this.state.mode}`} \n            src={this.state.mode === \"light\" ? backLight : backDark}\n            onClick={this.props.history.goBack} />\n        <h1 id={`band-name-${this.state.mode}`}>{this.state.name}</h1>\n        <h2 id={`genre-display-${this.state.mode}`}>\n          {this.state.genres.map((el, index) => {\n            return (\n              <span key={index}>\n                {\" \"}\n                {el.charAt(0).toUpperCase() + el.slice(1)} |\n              </span>\n            );\n          })}\n        </h2>\n\n        <div>\n          <img\n            id={`band-picture-${this.state.mode}`}\n            src={this.state.picture}\n            alt={`${this.state.name} cover`}\n            height=\"300\"\n            width=\"300\"\n          />\n        </div>\n\n        <div>\n          <p className={`regular-text-${this.state.mode}`}>Popularity: {this.state.popularity}</p>\n          <p className={`regular-text-${this.state.mode}`}>Followers: {this.state.followers}</p>\n        </div>\n\n        <Link to={`/artist/chat/${id}/`}>\n          <div>\n            <button className={`artist-button-${this.state.mode}`} onClick={this.updateChatModel}>ENTER CHAT</button>\n          </div>\n        </Link>\n\n        <Link to={`/artist/${id}/music`}>\n          <div>\n            <button className={`artist-button-${this.state.mode}`}>Albums & tracks</button>\n          </div>\n        </Link>\n\n        <div>\n          <button className={`artist-button-${this.state.mode}`} onClick={this.toggleSeeEvents}>\n            {this.state.seeEventsIsOn ? \"Hide\" : \"Related events\"}\n          </button>\n          {this.state.seeEventsIsOn ? (\n            <div id={`band-events-${this.state.mode}`}>\n              {this.state.events.map((oneEvent, i) => {\n                return <Link className={`regular-text-${this.state.mode}`} to={`/artist/event/${oneEvent._id}`} key={oneEvent._id}>{oneEvent.title}</Link>;\n              })}\n            </div>\n          ) : null}\n        </div>\n\n        <Link to={`/artist/${id}/create-event`}>\n          <button className={`artist-button-${this.state.mode}`}>Add event</button>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(withMode(Artist));\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHaAAAB2gGFomX7AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAeZQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/UjJnQAAAKF0Uk5TAAECAwQFBgcJCgsMDQ4PEBESExQVFhcYGRobHiAiIyQmKCosLzAyMzQ2Nzg5Ojw+P0BBQkZMTU5PVldbXF9kZmdoaWpsbW90dXZ5e31+f4CBhIWHiYqOj5CVlpeam6GlpqeorK6vsLG2t7i5ur2+v8DBw8XGyMnKy8zNz9DR09TV1tfY2drb3eDh4uTl6Onq7O3u7/Lz9PX29/j5+vv8/f5+BgELAAACQklEQVQYGZ3Bi1tLYQAH4N9GalnWmi1FlnJXIUKacqcil9wvXZBa5hYxFaISRmIlqdZ+/6lzmefpWeecfed7X0DW5mtAqAnSamfmG3q54IAcZys1ky5I8fRQE9sEKWVj1IxvgJRDU9QMr4MMR0uSmjcFkOHuom4kHzKCw9RNBiHDH6dubjekOGLUHYGkHmp6Ian4GzUVkFM0Rk0EcgpHqJh4+KQSUgIfqHjggbiqEy31xUjxD1PRvQLCgmGS153Q+d5R0e+CsMa/ZKIBKQVvqfjkg7A6Ks4gxTtIxY+NEFY+Q7ILKfkDVMzsgLCcUZK/PdB5olQkaiCumYoO6Na8puooxPmnqDgATV4/VZdgwy2qVkHlfklVG2woXaBqJRSr+6iKZMGG+9SsBZD7nKohN2zYSd05wPWUqi9FsMH5gimRjlGq4mWwo4lp5vbBjsp5pjkFO0J/mCbqhLiSu0y3uA3CqrsXucw9CMoKDdJIPYR4GmM0tgUCCm9M00wFUpy7YKb2J83VQOcNh2HM20kr7VBl139mOwxlD9HS4sXSrXubv5O8AkM3KShZDiPVFNUKQ50Uk7jqgBHXLEXMdm2HMR8zSz6uc8OMhxl1BmHlI60lm2DtAq2dRQber7QScSCTqgTNza9HZudp7g4EOJ/RVBAiAu9pIgoxvkEaa4Sg/Fc0VAJR7j4aGIC43Edc7iRsyGpjuuk82HKZaW7DpmMJLjVVArsOxrnEYdgX6OB/cyFI2T9OzcQeSMo5Hf4Vix7PgZh/Xm/Y2jBsQqEAAAAASUVORK5CYII=\"","import React, { Component } from 'react'\nimport { withAuth } from './../../context/auth-context';\nimport { withMode } from './../../context/mode-context'\nimport eventService from './../../services/event-service';\nimport userService from './../../services/user-service';\n\nimport axios from 'axios';\n\nimport './../../App.css'\nimport './CreateEvent.css'\nimport defaultImage from './../../images/groovster-logo.png'\nimport backLight from './../../images/go-back-light.png';\nimport backDark from './../../images/go-back-dark.png';\n\nclass CreateEvent extends Component {\n    state = {\n        eventTitle: \"\",\n        eventDescription: \"\",\n        eventDate: \"\",\n        eventImage: defaultImage,\n        participantSearch: \"\",\n        searchResults: [],\n        eventParticipants: [],\n        eventLocation: \"\",\n        mode: \"\",\n    }\n\n    handleChange = (event) => {\n        const { name, value } = event.target;\n\n        if (name === \"participantSearch\") {\n            userService.getByUsername(value)\n            .then( (data) => {\n                this.setState({ participantSearch: value, searchResults: data })\n            })\n        }\n        else {\n            this.setState({ [name]: value })\n        }\n    }\n\n    handleFormSubmit = (event) => {\n        event.preventDefault();\n        const artistId = this.props.match.params.id;\n        const userId = this.props.user._id\n        const {eventTitle, eventDate, eventDescription, eventImage, eventParticipants, eventLocation} = this.state\n\n        eventService.createEvent(artistId, userId, {title: eventTitle, description: eventDescription, date: eventDate, picture: eventImage, participants: eventParticipants, location: eventLocation})\n        .then( (data) => {\n            this.setState({eventTitle: \"\", eventDate: \"\", eventDescription: \"\", eventImage: this.state.eventImage, eventParticipants, eventLocation:\"\"})\n        });\n        this.props.history.push(`/artist/${artistId}`)\n\n    }\n\n    handleImageUpload = (event) => {\n        const file = event.target.files[0]; // we get the uploaded image\n\n        const uploadData = new FormData();\n        uploadData.append('image', file);\n\n        // we send the photo to the route that uploads it to Cloudinary\n        axios.post(`${process.env.REACT_APP_API_URL}/api/users/photo`, uploadData, { withCredentials: true })\n        .then( (response) => {\n            const {imageUrl} = response.data;\n            this.setState({ eventImage: imageUrl })\n        })\n        .catch( (err) => console.log(err));\n    }\n\n    addEventParticipant = (event) => {\n        event.preventDefault();\n        const { value } = event.target;\n        const updatedEventParticipants = [...this.state.eventParticipants, value]\n        this.setState({eventParticipants: updatedEventParticipants})\n    }\n\n    handleMode = () => {\n        if (this.props.modeIsDark === true) {\n          this.setState({ mode: \"dark\" })\n        }\n        else {\n          this.setState({ mode: \"light\" })\n        }\n    }\n\n    componentDidMount = () => {\n        this.handleMode();\n    }\n    \n    render() {\n        return (\n            <main className={`main-${this.state.mode}`}>\n                <img id={`create-goback-${this.state.mode}`} \n                src={this.state.mode === \"light\" ? backLight : backDark}\n                onClick={this.props.history.goBack} />\n                <form id={`event-input-form-${this.state.mode}`}>\n                    <div>\n                        <label>Title:</label>\n                        <input className={`settings-input-${this.state.mode}`} type=\"text\" name=\"eventTitle\" \n                        value={this.state.eventTitle} onChange={(event) => this.handleChange(event)} />\n                    </div>\n\n                    <div>\n                        <label>Description:</label>\n                        <input className={`settings-input-${this.state.mode}`} type=\"textarea\" name=\"eventDescription\"\n                        value={this.state.eventDescription} onChange={(event) => this.handleChange(event)} />\n                    </div>\n\n                    <div>\n                        <label>Date:</label>\n                        <input id={`event-date-label-${this.state.mode}`} className={`settings-input-${this.state.mode}`} type=\"text\" name=\"eventDate\" placeholder=\"dd/mm/yyyy\"\n                        value={this.state.eventDate} onChange={(event) => this.handleChange(event)} />\n                    </div>\n                    <div id={`event-picture-${this.state.mode}`}>\n                        <label>Picture:</label>\n                        <img src={this.state.eventImage} />\n                        <input id={`picture-submit-${this.state.mode}`} type=\"file\" name=\"image\" onChange={this.handleImageUpload} />\n                    </div>\n\n                    <div>\n                    <label>Location:</label>\n                    <input className={`settings-input-${this.state.mode}`} type=\"text\" name=\"eventLocation\" \n                    value={this.state.eventLocation} onChange={(event) => this.handleChange(event)} />\n                    </div>\n\n                    <div>\n                        {this.state.searchResults.map((oneResult, i) => {\n                           return (\n                            <div key={oneResult._id}>\n                                <p>{oneResult.username}</p>\n                                <button onClick={(event) => this.addEventParticipant(event)} \n                                name=\"addParticipant\" value={oneResult._id}>Add</button>\n                            </div>)\n                        })}\n                    </div>\n\n                    <button id={`event-submit-button-${this.state.mode}`} onClick={(event) => this.handleFormSubmit(event)} type=\"submit\">Create</button>\n                </form>\n            </main>\n        )\n    }\n}\n\nexport default withAuth(withMode(CreateEvent))","import React, { Component } from 'react'\nimport { withAuth } from './../../context/auth-context';\nimport { withMode } from './../../context/mode-context';\nimport { Link } from 'react-router-dom';\nimport userService from './../../services/user-service';\n\nimport avatarLight from './../../images/default-avatar.png'\nimport avatarDark from './../../images/default-avatar-dark.png'\n\nimport './../../App.css'\nimport './Profile.css'\nimport spotifyService from '../../services/spotify-service';\n\nclass Profile extends Component {\n    state = {\n        username: \"\",\n        email: \"\",\n        image: \"\",\n        preferences: [],\n        events: [],\n        mode: \"\"\n    }\n\n    handleMode = () => {\n        if (this.props.modeIsDark === true) {\n          this.setState({ mode: \"dark\" })\n        }\n        else {\n          this.setState({ mode: \"light\" })\n        }\n      }\n    \n    componentDidMount = () => {\n        this.handleMode();\n        const id = this.props.user._id;\n\n        userService.getUser(id)\n        .then((data) => {\n            const { username, email, image, preferences, events } = data\n            \n            if (preferences.length > 0) {\n                spotifyService.getArtists(preferences)\n                .then( (prefs) => {\n                    this.setState({ username, email, image, events, preferences: prefs.data.body.artists})\n                })\n            }\n            else {\n                this.setState({ username, email, image, preferences, events})\n            }\n        })\n    }\n\n    render() {\n         return (\n            <main id={`profile-main-${this.state.mode}`} className={`main-${this.state.mode}`}>\n                <div id={`profile-container-${this.state.mode}`}>\n                    <img id={`profile-image-${this.state.mode}`} \n                    src={this.state.image === \"/static/media/default-avatar.eb8ac4ec.png\"\n                    ? this.state.mode === \"light\" \n                        ? avatarLight \n                        : avatarDark\n                    : this.state.image} />\n                    <p className={`profile-info-${this.state.mode}`}>{this.state.username}</p>\n                    <p className={`profile-info-${this.state.mode}`}>{this.state.email}</p>\n                </div>\n                <p id={`artist-preferences-${this.state.mode}`} className={`regular-text-${this.state.mode}`}><strong>ARTIST PREFERENCES:</strong></p>\n                <div id={`horizontal-scroll-${this.state.mode}`}>\n                {this.state.preferences.map((onePref, i) => {\n                    return (\n                    <div key={onePref.id}>\n                        <Link to={`/artist/${onePref.id}`}>\n                            <img id={`preference-picture-${this.state.mode}`} src={onePref.images[0].url} />\n                            <p className={`regular-text-${this.state.mode}`}>{onePref.name}</p>\n                        </Link>\n                    </div>)\n                })}\n                </div>\n                <div id={`joined-events-container-${this.state.mode}`}>\n                    <p className={`regular-text-${this.state.mode}`}><strong>JOINED EVENTS:</strong></p>\n                {this.state.events.map((oneEvent, i) => {\n                    return (\n                    <div key={oneEvent._id}>\n                        <Link to={`/artist/event/${oneEvent._id}`}>\n                            <p className={`regular-text-${this.state.mode}`}><strong>{oneEvent.title}</strong></p>\n                            <p className={`regular-text-${this.state.mode}`}>{oneEvent.description}</p>\n                        </Link>\n                    </div>)\n                })}\n                </div>\n\n                <Link to=\"/settings\">\n                    <button id={`update-button-${this.state.mode}`}>Update</button>\n                </Link>\n            </main>\n        )\n    }\n}\n\nexport default withAuth(withMode(Profile));\n","export default __webpack_public_path__ + \"static/media/logo-ironhack-blue.26f9f248.png\";","export default __webpack_public_path__ + \"static/media/david-light.4b3c6ef3.png\";","export default __webpack_public_path__ + \"static/media/david-dark.91814e5d.jpeg\";","export default __webpack_public_path__ + \"static/media/clement-light.7299b06d.png\";","export default __webpack_public_path__ + \"static/media/clement-dark.3787da47.png\";","import React from 'react'\nimport { withAuth } from './../../context/auth-context'\nimport { withMode } from './../../context/mode-context'\n\nimport './../../App.css'\nimport './About.css';\n\nimport ironhack from './../../images/logo-ironhack-blue.png';\nimport davidLight from './../../images/david-light.png';\nimport davidDark from './../../images/david-dark.jpeg';\nimport clementLight from './../../images/clement-light.png';\nimport clementDark from './../../images/clement-dark.png';\n\nclass About extends React.Component {\n  state = {\n    mode: \"\"\n  }\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  componentDidMount() {\n    this.handleMode();\n  }\n\n  render() {\n    return (\n      <main id={`about-main-${this.state.mode}`} className={`main-${this.state.mode}`}>\n        <div className={`page-margin-${this.state.mode}`}> \n          <h1 id={`app-name-${this.state.mode}`}>Groovster</h1>\n          <h2 className={`regular-text-${this.state.mode}`}>...is a minimal social network for music lovers allowing users to meet fellow band/artist fanatics and connect with them </h2>\n          <ul id={`bullet-point-${this.state.mode}`}>\n            <li>Profile creation and updating</li>\n            <li>Album/track browsing according to preferences (via Spotify API)</li>\n            <li>Band/artist event listing and creation</li>\n            <li>Band/artist dedicated chatrooms (Socket.IO)</li>\n          </ul>\n          <p className={`regular-text-${this.state.mode}`}>This app was built during the Ironhack BCN Jan-21 Web Development Bootcamp by:</p>\n        </div>\n        <div className={`page-margin-${this.state.mode}`} id={`personal-link-container-${this.state.mode}`}>\n            <a href=\"https://www.linkedin.com/in/clement-vallat/\" target=\"blank\">\n                <h3>Clment Vallat</h3>\n                <img id={`picture-clement-${this.state.mode}`} src={this.state.mode === \"light\" ? clementLight : clementDark} alt=\"img-clement\"/>\n            </a>\n            <a href=\"https://www.linkedin.com/in/david-castejon-ferrer/\" target=\"blank\">\n                <h3>David Castejn</h3>\n                <img id={`picture-david-${this.state.mode}`} src={this.state.mode === \"light\" ? davidLight : davidDark}  alt=\"img-david\"/>\n            </a>\n        </div>\n        <div className={`page-margin-${this.state.mode}`}>\n            <a href=\"https://www.ironhack.com/en\" target=\"blank\">\n                <img id={`ironhack-logo-${this.state.mode}`} src={ironhack} alt=\"img-ironhack\"/>\n            </a>\n        </div>\n      </main>\n    )\n  }\n}\n\nexport default withAuth(withMode(About));","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\nimport './Navbar.css';\n\nimport logo from './../../images/groovster-logo.png'\nimport menu from './../../images/hamburger-icon.png'\n\n\nclass Navbar extends Component {\n  state = {\n    menuIsOn: false,\n    showWelcome: \"\", \n  }\n\n  toggleMenu = () => {\n    if (this.state.showWelcome === \"\") {\n      this.setState({ showWelcome: \"user-welcome\", menuIsOn: !this.state.menuIsOn })\n    }\n    else {\n      this.setState({ showWelcome: \"\", menuIsOn: !this.state.menuIsOn })\n    }\n  }\n\n  logout = () => {\n    if (this.state.showWelcome === \"\") {\n      this.setState({ showWelcome: \"user-welcome\", menuIsOn: false })\n      this.props.logout();\n    }\n    else {\n      this.setState({ showWelcome: \"\", menuIsOn: false })\n      this.props.logout();\n    }\n  }\n\n  render() {\n    return (\n      <nav>\n        {this.props.isLoggedIn ? (\n          <div id=\"navbar-in\">\n            <Link to={'/'} id='home-btn'>\n              <img id=\"logo\" src={logo} alt=\"logo\"/>\n            </Link>\n            <p className=\"welcome\" id={this.state.showWelcome}>Let's rock it, {this.props.user && this.props.user.username}!</p>\n            {this.state.menuIsOn ? (\n              <div id=\"menu-unfold\">\n                <p id=\"menu-close\" onClick={this.toggleMenu}>X</p>\n                <Link className=\"menu-link\" to=\"/about\">\n                  <p className=\"menu-item\">About</p>\n                </Link>\n                <Link className=\"menu-link\" to={`/profile/${this.props.user._id}`}>\n                  <p className=\"menu-item\">Profile</p>\n                </Link>\n                <Link className=\"menu-link\" to=\"/settings\">\n                  <p className=\"menu-item\">Settings</p>\n                </Link>\n                <p className=\"menu-item\" onClick={this.logout}>Logout</p>\n              </div>) : (<img id=\"menu-icon\" src={menu} onClick={this.toggleMenu} alt=\"menu-icon\"/>)}\n          </div>\n          ) : (\n          <div id=\"navbar-out\">\n            <Link to=\"/login\">\n              <button className=\"navbar-button\">Login</button>{' '}\n            </Link>\n            <br />\n            <Link to=\"/signup\">\n              <button className=\"navbar-button\">Sign Up</button>{' '}\n            </Link>\n          </div>\n        )}\n      </nav>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAILAAACCwH3TfrrAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAABJQTFRF////AAAAAAAAAAAAAAAAAAAAZJzAmgAAAAV0Uk5TADBASFgfym8bAAAAOUlEQVRIx2NkIAAYB4MCF0IKQkeGAsGhEFmUKzAejW6wAqWREd1Ko9FNXLIfHtEtOBrdxFVqQyE2AY+zCuHOjp1zAAAAAElFTkSuQmCC\"","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that only allows access to a user who is not logged in\n\nfunction AnonRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the AnonRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (isLoggedIn) return <Redirect to=\"/main\" />\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(AnonRoute);\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from './../../context/auth-context';\n\n// Route that forbids access to a user who is not logged in\n\nfunction PrivateRoute (routeProps) {\n  // Value coming from `AuthProvider` ( via `withAuth` )\n  const { isLoggedIn, isLoading } = routeProps;\n\n  // Values coming from the PrivateRoute itself\n  const ComponentToShow = routeProps.component;\n  const { exact, path } = routeProps;\n\n  // If AuthProvider is still making request to check the user\n  if (isLoading) return 'Loading';\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={\n        function(props) {\n          if (! isLoggedIn) return <Redirect to=\"/\" />;\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\n        }\n      }\n     />\n    )\n}\n\n\nexport default withAuth(PrivateRoute);\n\n\n/* \n// Concise way\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\n  return (\n   <Route\n    {...rest}\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\n   /> \n)} \n*/\n","export default \"data:image/png;base64,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dHRyaWI6RXh0SWQ+CiAgICAgPEF0dHJpYjpGYklkPjUyNTI2NTkxNDE3OTU4MDwvQXR0cmliOkZiSWQ+CiAgICAgPEF0dHJpYjpUb3VjaFR5cGU+MjwvQXR0cmliOlRvdWNoVHlwZT4KICAgIDwvcmRmOmxpPgogICA8L3JkZjpTZXE+CiAgPC9BdHRyaWI6QWRzPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPkNsw6ltZW50IFZhbGxhdDwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/Pu2XpKAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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VqvK/QtbHCRBNiDfH8esMKAj9IPcrr3ljkTrLPS6z8j3D0ZfmHDQBAEUK0ytpVJFUJL+CBH+gkO31vm9ljjY0RoyxIkesefNAdwg/kMvkfjRJ0+U+BMVZeDgOUQG+f4c63UHciwMUMt6gmBTEH6HIPj4TyIGcGB+SB4IM/gczDf/BFHUoEGDBg0aNGjQoEGDBg0aNGjQoEGDBg3+Tfg/th/ABBEV+8UAAAOfaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJz4KPHJkZjpSREYgeG1sbnM6cmRmPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjJz4KCiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0nJwogIHhtbG5zOkF0dHJpYj0naHR0cDovL25zLmF0dHJpYnV0aW9uLmNvbS9hZHMvMS4wLyc+CiAgPEF0dHJpYjpBZHM+CiAgIDxyZGY6U2VxPgogICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgICAgPEF0dHJpYjpDcmVhdGVkPjIwMjEtMDMtMTA8L0F0dHJpYjpDcmVhdGVkPgogICAgIDxBdHRyaWI6RXh0SWQ+YmYzNTIzMTAtMjg2Ny00OTcwLTljMGEtNWJlNmJiMjM0NDdmPC9BdHRyaWI6RXh0SWQ+CiAgICAgPEF0dHJpYjpGYklkPjUyNTI2NTkxNDE3OTU4MDwvQXR0cmliOkZiSWQ+CiAgICAgPEF0dHJpYjpUb3VjaFR5cGU+MjwvQXR0cmliOlRvdWNoVHlwZT4KICAgIDwvcmRmOmxpPgogICA8L3JkZjpTZXE+CiAgPC9BdHRyaWI6QWRzPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPkNsw6ltZW50IFZhbGxhdDwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PhWb/HMAAAAASUVORK5CYII=\"","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withMode } from './../../context/mode-context';\nimport userService from \"./../../services/user-service\";\nimport spotifyService from \"../../services/spotify-service\";\nimport authService from \"../../services/auth-service\";\nimport favorite from './../../images/favorite-yes.png'\nimport favoriteNo from './../../images/notFavorite.png'\n\nrequire(\"dotenv\").config();\n\nclass Main extends Component {\n  state = {\n    search: \" \",\n    toggle: false,\n    userId: \"\",\n    preferences: [],\n    // searchArr: [],\n    searchingValue: [],\n    relatedArr: [],\n    oneArt: [],\n    randomArtists: [],\n    SeveralArr: [],\n    mode: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n\n    const { search } = this.state;\n    spotifyService\n      .searchArtist(search)\n      .then((list) => {\n        const array = list.data.body.artists.items;\n        this.setState({ searchingValue: array });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  submitForm = (event) => {\n    event.preventDefault();\n    this.setState({ search: \"\" });\n    this.innitArrays();\n    this.updatePref();\n  };\n\n  innitArrays = () => {\n    this.setState({ searchingValue: [] });\n    this.setState({ oneArt: false });\n    this.setState({ randomArtists: false });\n    this.setState({ relatedArr: false });\n    this.setState({ SeveralArr: false });\n  };\n\n  getRandom = () => {\n    spotifyService.getRandomArtists().then((list) => {\n      \n      this.setState({ randomArtists: list.data.artists });\n    });\n  };\n\n  getRelatedOfOne = () => {\n    const index = this.state.preferences.length - 1;\n    const userPref = this.state.preferences[index];\n    spotifyService\n      .getRelatedArtists(userPref)\n      .then((list) => {\n        const allArtists = list.data.body.artists;\n        this.setState({ relatedArr: allArtists });\n      })\n      .catch((err) => {\n        console.log(\"here is there error\", err);\n      });\n  };\n\n  getSeveralArtists = () => {\n    this.innitArrays();\n    const userId = this.props.user._id;\n    authService.retrieveUser(userId).then((result) => {\n      this.setState({ preferences: result.data.preferences });\n      const userPref = result.data.preferences;\n\n      spotifyService.getArtists(userPref)\n        .then((list) => {\n          console.log(list.data.body.artists);\n          this.setState({ SeveralArr: list.data.body.artists });\n        });\n    });\n\n    this.getRelatedOfOne();\n  };\n\n  getOneArtist = () => {\n    const userPref = this.state.preferences;\n\n    spotifyService.getArtist(userPref)\n      .then((response) => {        \n        const artist = response;\n        this.setState({ oneArt: [artist] });\n      })\n      .catch((err) => console.log(err));\n    this.getRelatedOfOne();\n  };\n\n  updatePref = () => {\n    this.setState({ searchingValue: [] });\n    const userId = this.props.user._id;\n    \n    authService.retrieveUser(userId).then((result) => {\n      this.setState({ preferences: result.data.preferences }, () => {\n        const userPref = this.state.preferences;\n        if (userPref.length === 0) {\n          this.getRandom();\n        } else if (userPref.length === 1) {\n          this.getOneArtist();\n        } else if (userPref.length > 1) {\n          this.getSeveralArtists();\n        }\n      })\n    })\n  };\n\n  addToFav = (artistId) => {\n    const user = this.props.user._id;\n    userService\n      .modifyUser(user, { $push: { preferences: artistId } })\n      .then((data) => {\n        this.updatePref();\n      })\n      .catch((err) => console.log(err));\n    // this.updatePref();\n  };\n\n  removeFromFav = (artistId) => {\n    this.innitArrays();\n    const user = this.props.user._id;\n    userService\n      .modifyUser(user, { $pull: { preferences: artistId } })\n      .then((data) => {\n        this.updatePref();\n      });\n  };\n\n  componentDidMount() {\n    this.updatePref();\n    this.handleMode();\n    \n  }\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  render() {\n    console.log(\"state\", this.state);\n\n    return (\n      <div className={`main-page-container main-page-color-${this.state.mode}`}>\n        {this.state.preferences.length === 0 && (\n          <h1>Choose your favorite artists</h1>\n        )}\n\n        <form onSubmit={this.submitForm}>\n          <input\n            name=\"search\"\n            type=\"text\"\n            placeholder=\"Who are you looking for?\"\n            value={this.state.search}\n            onChange={this.handleChange}\n            className={`input-${this.state.mode}`}\n            autoComplete=\"off\"\n          />\n          <button className={`clear-btn font-color-clear-${this.state.mode}`}>clear</button>\n        </form>\n\n        {/* View when using search bar */}\n        {this.state.searchingValue &&\n          this.state.searchingValue.map((data) => {\n            return (\n              <div className=\"artists-card\" key={data.id}>\n                <Link to={`/artist/${data.id}`}>\n                  {data.images[0] ? (\n                    <img\n                      src={data.images[0].url}\n                      alt=\"artist-img\"\n                      className=\"artist-img\"\n                    />\n                  ) : null}\n                  <h2>{data.name}</h2>\n                </Link>\n                <button className={`favorite-icon favorite-icon-background-${this.state.mode}`} onClick={() => this.addToFav(`${data.id}`)}>\n                  <img src={favoriteNo} alt=\"favorite-icon\" className={`favorite-icon favorite-icon-background-${this.state.mode}`}/>\n                </button>\n              </div>\n            );\n          })}\n\n        {/* Display several favorite artists */}\n        {this.state.SeveralArr &&\n          this.state.SeveralArr.map((data) => {\n            return (\n              <div className=\"artists-card\" key={data.id}>\n                <Link to={`/artist/${data.id}`}>\n                  {data.images[0] ? (\n                    <img\n                      src={data.images[0].url}\n                      alt=\"artist-img\"\n                      className=\"artist-img\"\n                    />\n                  ) : null}\n                  <h2>{data.name}</h2>\n                </Link>\n                <button className={` favorite-icon-background-btn-${this.state.mode}`} onClick={() => this.removeFromFav(`${data.id}`)}>\n                   <img src={favorite} alt=\"favorite-icon\" className={`favorite-icon favorite-icon-background-${this.state.mode}`}/>\n                </button>\n              </div>\n            );\n          })}\n\n        {/* Display one artist & related artists */}\n        {this.state.oneArt &&\n          this.state.oneArt.map((el) => {\n            return (\n              <div className=\"artists-card\" key={el.id}>\n                <Link to={`/artist/${el.id}`}>\n                  {el.images && (\n                    <img\n                      src={el.images[0].url}\n                      alt=\"artist-img\"\n                      className=\"artist-img\"\n                    />\n                  )}\n                  <h2>{el.name}</h2>\n                </Link>\n                <button className={` favorite-icon-background-btn-${this.state.mode}`} onClick={() => this.removeFromFav(`${el.id}`)}>\n                  <img src={favorite} alt=\"favorite-icon\" className={`favorite-icon favorite-icon-background-${this.state.mode}`}/>\n                </button>\n              </div>\n            );\n          })}\n        {this.state.relatedArr &&\n          this.state.relatedArr.map((el) => {\n            return (\n              <div className=\"artists-card\" key={el.id}>\n                <Link to={`/artist/${el.id}`}>\n                  {el.images && (\n                    <img\n                      src={el.images[0].url}\n                      alt=\"artist-img\"\n                      className=\"artist-img\"\n                    />\n                  )}\n                  <h2>{el.name}</h2>\n                </Link>\n                <button className={`favorite-icon-background-btn-${this.state.mode}`} onClick={() => this.addToFav(`${el.id}`)}>\n                <img src={favoriteNo} alt=\"favorite-icon\" className={`favorite-icon favorite-icon-background-${this.state.mode}`}/>\n                </button>\n              </div>\n            );\n          })}\n\n        {/* Display Random Artists if no favorites */}\n        {this.state.randomArtists &&\n          this.state.randomArtists.map((el) => {\n            return (\n              <div className=\"artists-card\" key={el.id}>\n                <Link to={`/artist/${el.id}`}>\n                  {el.images && (\n                    <img\n                      src={el.images[0].url}\n                      alt=\"artist-img\"\n                      className=\"artist-img\"\n                    />\n                  )}\n                  <h2>{el.name}</h2>\n                </Link>\n                <button className={`favorite-icon-background-btn-${this.state.mode}`} onClick={() => this.addToFav(`${el.id}`)}>\n                    <img src={favoriteNo} alt=\"favorite-icon\" className={`favorite-icon favorite-icon-background-${this.state.mode}`}/>\n                </button>\n              </div>\n            );\n          })}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(withMode(Main));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withMode } from './../../context/mode-context';\nimport spotifyService from \"./../../services/spotify-service\";\nimport { Link } from \"react-router-dom\";\nrequire(\"dotenv\").config();\n\nclass musicPage extends Component {\n  state = {\n    name: \"\",\n    picture: \"\",\n    popularity: 0,\n    followers: 0,\n    genres: [],\n    albums: [], \n    songs: [],\n    mode: \"\",\n  };\n\n  retrieveArtist = () => {\n    const { id } = this.props.match.params;\n    spotifyService.getArtist(id).then((data) => {\n      this.setState({\n        name: data.name,\n        picture: data.images[0].url,\n        popularity: data.popularity,\n        followers: data.followers.total,\n        genres: data.genres,\n      });\n    });\n  };\n\n  retrieveAlbum = () => {\n    const { id } = this.props.match.params;    \n    spotifyService.getAlbum(id)\n    .then((data) => {\n        this.setState({albums: data.items})\n        console.log(this.state.albums);\n    });\n  };\n\n  retrieveTracks = () => {\n    const { id } = this.props.match.params;    \n    spotifyService.getTopTracks(id)\n    .then( (data) => {\n        this.setState({songs: data.tracks.slice(0,10)})\n        console.log(data.tracks)\n    })\n  }\n\n  componentDidMount() {\n    this.retrieveArtist();\n    this.retrieveAlbum();\n    this.retrieveTracks();\n    this.handleMode();\n  }\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  render() {\n    return (\n      <div className={`music-page-container music-page-container-${this.state.mode}`}>\n        <h1>{this.state.name}</h1>\n        <h2>{this.state.albums.length} Albums</h2>\n        <div className=\"album-box\">\n            {this.state.albums.map((el) => {\n                return (\n                    <div key={el.id}>\n                        <Link to={`/artist/album/track/${el.id}`}>\n                            <img className=\"album-image\" src={el.images[0].url} alt=\"album\"/>\n                            <p>{el.name}</p>\n                        </Link>\n                    </div>\n                )\n            })}\n        </div>\n        <h2>{this.state.name}'s top tracks</h2>\n            {this.state.songs.map((el)=> {\n                \n                return (\n                    el.preview_url &&\n                    <div key={el.id}>\n                        <p>{el.name}</p>\n                        <audio controls src={el.preview_url} />\n                    </div>\n                )\n            })\n            }\n        <button className=\"back-btn-music-page\" onClick={this.props.history.goBack}>\n          Go Back\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(withMode(musicPage));\n","import React, { Component } from \"react\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport { withMode } from './../../context/mode-context';\nimport spotifyService from \"./../../services/spotify-service\";\nrequire(\"dotenv\").config();\n\nclass albumPage extends Component {\n  state = {\n      songs: [], \n      album: [],\n      mode: \"\",\n  };\n\n  retrieveTracksFromAlbum = () => {\n    const { id } = this.props.match.params;\n    spotifyService.getAlbumTracks(id)\n      .then((data) => {\n          this.setState({songs: data})\n      })\n      .catch((err) => console.log(err));\n  };\n\n  retrieveAlbumInfo = () => {\n    const { id } = this.props.match.params; \n    spotifyService.getOneAlbum(id)\n    .then((data) => {\n        console.log(data);\n        \n        this.setState({album: data})\n    })\n    .catch((err) => console.log(err));\n  }\n\n  componentDidMount(){\n    this.retrieveTracksFromAlbum();\n    this.retrieveAlbumInfo(); \n    this.handleMode();\n\n  }\n\n\n  handleMode = () => {\n    if (this.props.modeIsDark === true) {\n      this.setState({ mode: \"dark\" })\n    }\n    else {\n      this.setState({ mode: \"light\" })\n    }\n  }\n\n  render() {\n    return (\n        <div className={`album-page-container album-page-container-${this.state.mode}`}>\n            <h1>Track List of {this.state.album.name}</h1>\n            {this.state.album.images &&  <img src={this.state.album.images[0].url} alt=\"cover\" className=\"album-image\"/> }\n            <p className=\"album-page-text\">Released on: {this.state.album.release_date}</p>\n            <p className=\"album-page-text\">Label: {this.state.album.label}</p>\n            <ul>\n                {this.state.songs.map((el) => {\n                    return (\n                        <li key=\"el.id\">\n                            <div>\n                                <p>{el.name}</p>\n                                {el.preview_url &&\n                                <audio controls src={el.preview_url} />}\n                            </div>\n                        </li>\n                    )\n                })}\n            </ul>\n            <button className=\"back-btn-album-page\" onClick={this.props.history.goBack}>\n                 Go Back\n            </button>\n            \n        </div>\n    );\n  }\n}\n\nexport default withAuth(withMode(albumPage));\n","import io from \"socket.io-client\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport moment from \"moment\";\nimport { withMode } from \"./../../context/mode-context\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport userService from \"./../../services/user-service\";\n\nlet socket;\nlet chatId;\n\nconst ChatRoom = (props) => {\n  const [users, setUsers] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [isReady, setIsReady] = useState(false);\n\n  const dummy = useRef();\n  const username = props.user.username;\n\n  // Find the chat's params & make the conditionnal (chatParams === text.chatId )\n  // const {idChat} = props.match.params;\n  // console.log(\"idChat\", idChat);\n\n  userService\n    .getUser(props.user._id)\n    .then((data) => {\n      chatId = data.chat;\n      console.log(data.chat);\n    })\n    .catch((err) => console.log(err));\n\n  // run when the component mounts\n  useEffect(() => {\n    socket = io(process.env.REACT_APP_API_URL, {\n      transports: [\"websocket\", \"polling\"],\n      forceNew: true,\n    });\n\n    socket.on(\"connect\", () => {\n      socket.emit(\"username\", username);\n      setIsReady(true);\n    });\n\n    socket.on(\"users\", (users) => {\n      setUsers(users);\n    });\n\n    socket.on(\"message\", (message) => {\n      setMessages((messages) => [...messages, message]);\n    });\n\n    socket.on(\"connected\", (user) => {\n      setUsers((users) => [...users, user]);\n    });\n\n    socket.on(\"disconnected\", (id) => {\n      setUsers((users) => {\n        return users.filter((user) => user.id !== id);\n      });\n    });\n\n    socket.on(\"connect_error\", (err) => {\n      console.log(`connect_error due to ${err.message}`);\n    });\n\n    // clean up and disconnect the user before the component unmounts\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  // SUBMIT WITH CHATID\n  const submit = (event) => {\n    event.preventDefault();\n    socket.emit(\"send\", { message, chatId });\n    setMessage(\"\");\n    dummy.current.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  // NORMAL SUBMIT\n  // const submit = event => {\n  //   event.preventDefault();\n  //   socket.emit(\"send\", message);\n  //   setMessage(\"\");\n  //   dummy.current.scrollIntoView({ behavior: \"smooth\" });\n  // };\n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"row\">\n        <div className=\"col-md-12 mt-4 mb-4\"></div>\n      </div>\n\n      <div className=\"col-md-4\">\n        <h4>{users.length} fans connected.</h4>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <div id=\"messages\">\n            {messages.map(\n              ({ user, date, text }, index) =>\n                text.chatId === chatId && (\n                  <div>\n                    <div\n                      key={index}\n                      className={`${\n                        user.name === username\n                          ? \"message-display sender\"\n                          : \"message-display receiver\"\n                      }`}\n                    >\n                      {/* // Improved Chat */}\n                      <div>\n                        <div className=\"col-md-3\">\n                          <span className=\"time-chat\">\n                            {moment(date).format(\"h:mm\")}{\" \"}\n                          </span>\n                          {`${user.name === username ? \"\" : user.name}`}\n                        </div>\n                        <div className=\"col-md-2\">{text.message}</div>\n                      </div>\n\n                      {/* // NORMAL CHAT */}\n                      {/* <div className=\"col-md-3\">\n                        <span className=\"time-chat\">\n                          {moment(date).format(\"h:mm\")}{\" \"}\n                        </span>\n                        {`${user.name === username ? \"\" : user.name}`}\n                      </div>\n                      <div className=\"col-md-2\">{text}</div>\n                    \n                    </div> */}\n                    </div>\n                  </div>\n                )\n            )}\n            <span ref={dummy} className=\"dummy\"></span>\n          </div>\n\n          <form onSubmit={submit} id=\"form\">\n            <div className=\"input-group\">\n              <input\n                disabled={!isReady}\n                type=\"text\"\n                className=\"form-control\"\n                onChange={(e) => setMessage(e.currentTarget.value)}\n                value={message}\n                autoComplete=\"off\"\n                id=\"text\"\n              />\n              <span className=\"input-group-btn\">\n                <button\n                  disabled={!isReady}\n                  id=\"submit\"\n                  type=\"submit\"\n                  className=\"btn btn-primary send-chat\"\n                >\n                  \n                </button>\n              </span>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withAuth(withMode(ChatRoom));\n","import React, { Component } from 'react'\nimport { withMode } from './../../context/mode-context';\nimport spotifyService from './../../services/spotify-service';\nimport ChatRoom from './ChatRoom';\n\n class Chat extends Component {\n    state = {\n        name: \"\",\n        picture: \"\",\n        popularity: 0,\n        followers: 0,\n        genres: [],\n        mode: \"\"\n    }\n\n    retrieveArtist = () => {\n        const { id } = this.props.match.params;\n        spotifyService.getArtist(id)\n        .then( (data) => {\n            this.setState({ name: data.name, picture: data.images[0].url, \n                popularity: data.popularity, followers: data.followers.total, genres: data.genres })\n        })\n    }\n\n    handleMode = () => {\n        if (this.props.modeIsDark === true) {\n          this.setState({ mode: \"dark\" })\n        }\n        else {\n          this.setState({ mode: \"light\" })\n        }\n      }\n\n    componentDidMount(){\n        this.retrieveArtist();\n        this.handleMode();\n\n    }\n\n    render() {\n        return (\n            <div className={`chat-page chat-page-${this.state.mode}`}>\n                <h3>Welcome to {this.state.name}'s room</h3>\n                <button className=\"back-btn-chat\" onClick={this.props.history.goBack}>\n                   \n                </button>\n                <ChatRoom username={this.state.name}/>\n            </div>\n        )\n        \n    }\n}\n\nexport default withMode(Chat)\n","import React, { Component } from 'react'\n\n class ProfilePage extends Component {\n    render() {\n        return (\n            <div className=\"profile-container\">\n                <h1>Profile Page </h1>\n                <button className=\"back-btn-chat\" onClick={this.props.history.goBack}>\n                   \n                </button>\n            </div>\n        )\n    }\n}\n\nexport default ProfilePage\n","import React, { Component } from \"react\";\nimport EventService from \"./../../services/event-service\";\nimport { withAuth } from \"./../../context/auth-context\";\nimport userService from \"./../../services/user-service\";\n\nexport class EventPage extends Component {\n  state = {\n    event: [],\n    participants: [],\n    participantsArr: [],\n  };\n\n  retrieveEvent = () => {\n    const { id } = this.props.match.params;\n    EventService.getEventById(id)\n      .then((data) => {\n        this.setState({\n          event: data.data,\n          participants: data.data.participants,\n        });\n        this.filterParticipantId();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  joinEvent = () => {\n    const eventId = this.state.event._id;\n    const userId = this.props.user._id;\n    \n    EventService.updateEvent(eventId, { $push: { participants: userId }})\n    .then((response) => this.retrieveEvent());\n  };\n\n  componentDidMount() {\n    this.retrieveEvent();    \n  }\n\n  filterParticipantId = () => {\n    const newArr  = this.state.participants.map((el) => {\n      return el._id\n    })\n    this.setState({participantsArr: newArr})\n  }\n\n\n  render() {\n    console.log('this.state.event.creator', this.state.event.creator)\n    console.log('this.props.user_id', this.props.user._id)\n\n    return (\n      <div className=\"event-page\">\n        <button className=\"back-btn-chat\" onClick={this.props.history.goBack}>\n          \n        </button>\n        <h1> Event Page </h1>\n        <p>Title: {this.state.event.title}</p>\n        <p>description: {this.state.event.description}</p>\n        <ul>\n          {this.state.participants.map((el, index) => {\n            return <li key={index}>{el.username}</li>;\n          })}\n        </ul>\n\n        {this.state.event.creator===this.props.user._id ? \n        <h3>YOU CREATED THE EVENT</h3>\n        :\n        this.state.participantsArr.includes(this.props.user._id) ? (\n          <p>You signed up to that event</p>\n        ) : (\n          <button onClick={this.joinEvent}>Join the event!</button>\n        )\n        \n        }\n\n      </div>\n    );\n  }\n}\n\nexport default withAuth(EventPage);\n","import React, { Component } from 'react';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\nimport { withMode } from './context/mode-context'\n\n// Pages\nimport Home from './pages/Home/Home';\nimport Signup from './pages/Signup/Signup';\nimport Login from './pages/Login/Login';\nimport Settings from './pages/Settings/Settings';\nimport Artist from './pages/Artist/Artist';\nimport CreateEvent from './pages/CreateEvent/CreateEvent';\nimport Profile from './pages/Profile/Profile'\nimport About from './pages/About/About'\n\n// Components\nimport Navbar from './components/Navbar/Navbar';\nimport AnonRoute from './components/AnonRoute/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport Main from './components/Main/Main'\nimport musicPage from './components/musicPage/musicPage';\nimport albumPage from './components/albumPage/albumPage';\nimport Chat from './components/Chat/Chat'\nimport ProfilePage from './components/ProfilePage/ProfilePage';\nimport EventPage from './components/EventPage/EventPage'; \n\nclass App extends Component {\n  state = {\n    mode: \"\"\n  }\n  \n  render() {\n    // console.warn = () => {};\n    // console.error = () => {};\n    return (\n      <div className=\"container\">\n        <Navbar />\n\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n\n          <PrivateRoute exact path=\"/main\" component={Main} />\n          <PrivateRoute exact path=\"/about\" component={About} />\n          <PrivateRoute exact path=\"/settings\" component={Settings} />\n          <PrivateRoute exact path=\"/profile/:id\" component={Profile} />\n          <PrivateRoute exact path=\"/artist/:id\" component={Artist} />\n          <PrivateRoute exact path=\"/artist/:id/create-event\" component={CreateEvent} />\n          <PrivateRoute exact path=\"/artist/:id/music\" component={musicPage} />\n          <PrivateRoute exact path=\"/artist/album/track/:id\" component={albumPage} />\n          <PrivateRoute exact path=\"/artist/chat/:id\" component={Chat} />\n          <PrivateRoute exact path=\"/profile/:id\" component={ProfilePage} />\n          <PrivateRoute exact path=\"/artist/event/:id\" component={EventPage} />\n\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default withMode(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nimport { AuthProvider } from './context/auth-context';\nimport { ModeProvider } from './context/mode-context';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <ModeProvider>\n        <App />\n      </ModeProvider>\n    </AuthProvider>\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}